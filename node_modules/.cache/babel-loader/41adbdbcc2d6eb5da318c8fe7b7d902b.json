{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rraval\\\\Desktop\\\\schedule-component-copy\\\\src\\\\components\\\\drag-drop.js\";\nimport * as React from 'react';\nimport '../index.css';\nimport { ScheduleComponent, ResourcesDirective, ResourceDirective, ViewsDirective, ViewDirective, Inject, TimelineViews, Resize, DragAndDrop, TimelineMonth, Day, Week } from '@syncfusion/ej2-react-schedule';\nimport { extend, isNullOrUndefined, enableRipple } from '@syncfusion/ej2-base';\nimport { SampleBase } from '../common/sample-base';\nimport * as dataSource from './datasource.json';\nimport Header from './Header';\nenableRipple(true);\nexport class SchedulerComponent extends SampleBase {\n  constructor() {\n    super(...arguments);\n\n    this.toggleSchedules = schedule_type => {\n      if (schedule_type === 'my_schedule') {\n        const data = this.employeeData.filter(item => item.Id !== 1);\n        data.forEach(element => {\n          this.scheduleObj.removeResource(element.Id, 'Employee');\n        });\n      } else {\n        this.scheduleObj.refresh();\n      }\n    };\n\n    this.handleFilter = filterData => {\n      if (!filterData) {\n        this.scheduleObj.refresh();\n        return;\n      }\n\n      filterData.forEach(element => {\n        this.scheduleObj.removeResource(element.Id, 'Employee');\n      });\n    };\n\n    this.employeeData = [{\n      Text: 'Alice',\n      EmployeeId: 1,\n      GroupId: 1,\n      Color: '#cb6bb2',\n      Designation: 'Content writer'\n    }, {\n      Text: 'Nancy',\n      EmployeeId: 2,\n      GroupId: 2,\n      Color: '#df5286',\n      Designation: 'Designer'\n    }, {\n      Text: 'Cobert',\n      EmployeeId: 3,\n      GroupId: 1,\n      Color: '#bbdc00',\n      Designation: 'Software Engineer'\n    }, {\n      Text: 'Robson',\n      EmployeeId: 4,\n      GroupId: 2,\n      Color: '#9e5fff',\n      Designation: 'Software Engineer'\n    }, {\n      Text: 'Laura',\n      EmployeeId: 5,\n      GroupId: 1,\n      Color: '#bbdc00',\n      Designation: 'Human Resource'\n    }, {\n      Text: 'Margaret',\n      EmployeeId: 6,\n      GroupId: 2,\n      Color: '#9e5fff',\n      Designation: 'Content Analyst'\n    }, {\n      Text: 'Iliye',\n      EmployeeId: 7,\n      GroupId: 1,\n      Color: '#bbdc00',\n      Designation: 'Electrician'\n    }, {\n      Text: 'Mcy Salzar',\n      EmployeeId: 8,\n      GroupId: 2,\n      Color: '#9e5fff',\n      Designation: 'Physician'\n    }, {\n      Text: 'Laura Albert',\n      EmployeeId: 9,\n      GroupId: 1,\n      Color: '#bbdc00',\n      Designation: 'Human Resource'\n    }, {\n      Text: 'Yargaret Robert',\n      EmployeeId: 10,\n      GroupId: 2,\n      Color: '#9e5fff',\n      Designation: 'Content Analyst'\n    }, {\n      Text: 'Aliye Zack',\n      EmployeeId: 11,\n      GroupId: 1,\n      Color: '#bbdc00',\n      Designation: 'Electrician'\n    }, {\n      Text: 'Zcy Lily',\n      EmployeeId: 12,\n      GroupId: 2,\n      Color: '#9e5fff',\n      Designation: 'Physician'\n    }]; // this.isTreeItemDropped = false;\n\n    this.draggedItemId = '';\n    this.allowDragAndDrops = true;\n    this.data = extend([], dataSource.blockData, null, true);\n    this.up = true; // this.departmentData = [\n    //     { Text: 'Project1', Id: 1, Color: '#cb6bb2' },\n    //     { Text: 'Project2', Id: 2, Color: '#9e5fff' }\n    // ];\n\n    this.count = 1;\n  }\n\n  getEmployeeName(value) {\n    return value.resourceData[value.resource.textField];\n  }\n\n  getEmployeeImage(value) {\n    let resourceName = this.getEmployeeName(value);\n    return resourceName.toLowerCase();\n  }\n\n  getEmployeeDesignation(value) {\n    return value.resourceData.Designation;\n  }\n\n  headerTooltipTemplate(props) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"template-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"employee-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, this.getEmployeeName(props)));\n  }\n\n  resourceHeaderTemplate(props) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"template-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"employee-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"employee-image \" + this.getEmployeeImage(props),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"employee-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, this.getEmployeeName(props)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"employee-designation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, this.getEmployeeDesignation(props))));\n  }\n\n  onDragStart(args) {\n    args.navigation.enable = true;\n  }\n\n  change(args) {\n    this.scheduleObj.selectedDate = args.value;\n    this.scheduleObj.dataBind();\n  }\n\n  timelineEventTemplate(props) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"template-wrap\",\n      style: {\n        background: props.PrimaryColor\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subject\",\n      style: {\n        background: props.SecondaryColor\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, props.Subject));\n  }\n\n  onRenderCell(args) {\n    if (args.elementType === 'emptyCells' && args.element.classList.contains('e-resource-left-td')) {\n      let target = args.element.querySelector('.e-resource-text');\n      target.innerHTML = \"<div><span style='margin-right: 10px'>Id</span><span id='Id' class='e-icons up id'></span> \" + \"<span style='margin-right: 10px;'>Employee</span><span id='Text' class='e-icons up employee'>\" + \"</span>\" + \"<br/>\" + \" <span style='margin-right: 10px; color:white'>Id</span>\" + \"<span id='Id' class='e-icons down id'>\" + \"</span>\" + \" <span style='margin-right: 10px; color:white'>Employee</span>\" + \"<span id='Text' class='e-icons down employee'> \" + \"</span>\" + \"</div>\";\n    }\n  }\n\n  onDataBinding(args) {\n    if (!isNullOrUndefined(document.querySelector(\".cuz-table\").children[0].children[0])) {\n      let tableChildren = document.querySelector(\".cuz-table\").children[0].children.length;\n\n      for (let k = 0; k < tableChildren; k++) {\n        document.querySelector(\".cuz-table\").children[0].children[0].remove();\n      }\n    }\n\n    if (isNullOrUndefined(document.querySelector('.test-last-cell'))) {\n      for (let j = 0; j < this.count; j++) {\n        if (document.querySelector('.cuz-table')) {\n          let tr = document.querySelector('.cuz-table').children[0];\n          let teEle = document.createElement(\"tr\");\n          tr.append(teEle);\n          tr.children[j].insertCell(0).setAttribute('class', 'test-last-cell');\n          tr.children[j].insertCell(0).setAttribute('class', 'test-last-rec');\n          let node = document.createElement(\"div\");\n          node.setAttribute('class', 'test-last-rec-divzz');\n          document.querySelectorAll('.test-last-rec')[j].appendChild(node);\n          let test_div = document.createElement(\"div\");\n          test_div.setAttribute('class', 'test-last-cell-divzz');\n          document.querySelectorAll('.test-last-cell')[j].appendChild(test_div);\n          let table = document.createElement(\"TABLE\");\n          table.setAttribute('class', 'test-last-table');\n          document.querySelectorAll('.test-last-cell-divzz')[j].appendChild(table);\n          let tbody = document.createElement(\"TBODY\");\n          tbody.setAttribute('class', 'test-last-tbody');\n          document.querySelectorAll('.test-last-table')[j].appendChild(tbody);\n          let tbody_tr = document.createElement(\"TR\");\n          tbody_tr.setAttribute('class', 'test-last-tr');\n          document.querySelectorAll('.test-last-tbody')[j].appendChild(tbody_tr);\n          let td_cell = document.querySelector(\".e-work-cells\").parentElement;\n          let length = td_cell.childElementCount;\n\n          for (let i = 0; i < length; i++) {\n            document.querySelectorAll(\".test-last-tr\")[j].insertCell(0).setAttribute('class', 'test-last-td');\n          }\n        }\n\n        let dataDate = document.querySelector(\".e-work-cells\").parentElement;\n        let customRow = document.querySelectorAll(\".test-last-td\");\n        let length = dataDate.childElementCount;\n\n        for (let j = 0; j < length; j++) {\n          customRow[j].setAttribute(\"data-date\", dataDate.children[j].getAttribute(\"data-date\"));\n        }\n      }\n\n      document.querySelector(\".cuz-table\").children[0].children[0].classList.add(\"tr-custom-row\");\n      document.querySelectorAll('.test-last-cell-divzz')[0].style.width = document.querySelector('.e-content-wrap').offsetWidth.toString() + \"px\";\n      document.querySelectorAll('.test-last-rec-divzz')[0].innerHTML = \"Total Hours\";\n      document.querySelector(\".e-content-wrap\").addEventListener(\"scroll\", myFunction);\n\n      function myFunction() {\n        let left = document.querySelector('.e-content-wrap').scrollLeft;\n        document.querySelectorAll('.test-last-cell-divzz')[0].scrollLeft = left;\n      }\n\n      let div_ele = document.createElement(\"div\");\n      div_ele.setAttribute('class', 'time-cell-div');\n      document.querySelectorAll(\".e-resource-cells\")[1].appendChild(div_ele);\n      let div_count_ele = document.createElement(\"div\");\n      div_count_ele.setAttribute('class', 'count-cell-div');\n      document.querySelectorAll(\".e-resource-cells\")[0].appendChild(div_count_ele);\n    }\n  }\n\n  onDataBound() {\n    let proxy = this;\n    let renderedEvents = this.scheduleObj.getCurrentViewEvents();\n    let resCol = this.employeeData;\n    let totalHours = 0;\n\n    if (proxy.up) {\n      for (let i = 0; i < resCol.length; i++) {\n        let eventColByRes = renderedEvents.filter(x => x.EmployeeId === resCol[i].EmployeeId);\n        let hour = 0;\n\n        for (let j = 0; j < eventColByRes.length; j++) {\n          let hourDiff = (eventColByRes[j].EndTime.getTime() - eventColByRes[j].StartTime.getTime()) / 1000;\n          hourDiff /= 60 * 60;\n          hour = hour + hourDiff;\n        }\n\n        document.querySelectorAll('.employee-name')[i].innerText = resCol[i].Text + \" (Hrs: \" + hour.toString() + \")\";\n        totalHours = totalHours + hour;\n      }\n    } else {\n      for (let i = resCol.length; i > 0; i--) {\n        let eventColByRes = renderedEvents.filter(x => x.EmployeeId === resCol[i].EmployeeId);\n        let hour = 0;\n\n        for (let j = 0; j < eventColByRes.length; j++) {\n          let hourDiff = (eventColByRes[j].EndTime.getTime() - eventColByRes[j].StartTime.getTime()) / 1000;\n          hourDiff /= 60 * 60;\n          hour = hour + hourDiff;\n        }\n\n        document.querySelectorAll('.employee-name')[i].innerText = resCol[i].Text + \" (Hrs: \" + hour.toString() + \")\";\n        totalHours = totalHours + hour;\n      }\n    }\n\n    document.querySelector('.test-last-rec-divzz').innerText = \"Total Hours: \" + totalHours.toString();\n    let renderDates = this.scheduleObj.getCurrentViewDates();\n\n    for (let i = 0; i < renderDates.length; i++) {\n      let eventColByDate = renderedEvents.filter(x => x.StartTime.getDate() === renderDates[i].getDate());\n      let hourByDate = 0;\n\n      for (let j = 0; j < eventColByDate.length; j++) {\n        let hourDiff = (eventColByDate[j].EndTime.getTime() - eventColByDate[j].StartTime.getTime()) / 1000;\n        hourDiff /= 60 * 60;\n        hourByDate = hourByDate + hourDiff;\n      }\n\n      document.querySelectorAll('.test-last-td')[i].innerText = \"Hrs: \" + hourByDate.toString();\n    }\n\n    const upIcon = document.querySelector('.e-icons.up.id');\n    upIcon.addEventListener(\"click\", function () {\n      let data = extend([], proxy.employeeData, null, true);\n      console.log(data);\n      proxy.scheduleObj.resources[0].dataSource = data.sort(function (a, b) {\n        if (a[upIcon.id] < b[upIcon.id]) {\n          return -1;\n        } else if (a[upIcon.id] > b[upIcon.id]) {\n          return 1;\n        } else {\n          return 0;\n        }\n      });\n    });\n    const downIcon = document.querySelector('.e-icons.down.id');\n    downIcon.addEventListener(\"click\", function () {\n      let data = extend([], proxy.employeeData, null, true);\n      console.log(data);\n      proxy.scheduleObj.resources[0].dataSource = data.sort(function (a, b) {\n        if (a[downIcon.id] > b[downIcon.id]) {\n          return -1;\n        } else if (a[downIcon.id] < b[downIcon.id]) {\n          return 1;\n        } else {\n          return 0;\n        }\n      });\n    });\n    const upEmployeeIcon = document.querySelector('.e-icons.up.employee');\n    upEmployeeIcon.addEventListener(\"click\", function () {\n      // proxy.up = true;\n      let data = extend([], proxy.employeeData, null, true);\n      console.log(data);\n      proxy.scheduleObj.resources[0].dataSource = data.sort(function (a, b) {\n        if (a[upEmployeeIcon.id] < b[upEmployeeIcon.id]) {\n          return -1;\n        } else if (a[upEmployeeIcon.id] > b[upEmployeeIcon.id]) {\n          return 1;\n        } else {\n          return 0;\n        }\n      });\n    });\n    const downEmployeeIcon = document.querySelector('.e-icons.down.employee');\n    downEmployeeIcon.addEventListener(\"click\", function () {\n      // proxy.up = false;\n      let data = extend([], proxy.employeeData, null, true);\n      console.log(data);\n      proxy.scheduleObj.resources[0].dataSource = data.sort(function (a, b) {\n        if (a[downEmployeeIcon.id] > b[downEmployeeIcon.id]) {\n          return -1;\n        } else if (a[downEmployeeIcon.id] < b[downEmployeeIcon.id]) {\n          return 1;\n        } else {\n          return 0;\n        }\n      });\n    });\n    document.querySelector('.e-icons.down').addEventListener(\"click\", function () {\n      let data = extend([], proxy.employeeData, null, true);\n      proxy.scheduleObj.resources[0].dataSource = data.sort(function (a, b) {\n        if (b.Text < a.Text) {\n          return -1;\n        } else if (b.Text > a.Text) {\n          return 1;\n        } else {\n          return 0;\n        }\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"schedule-control-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      toggleSchedules: this.toggleSchedules,\n      employeeData: this.employeeData,\n      data: this.data,\n      handleFilter: this.handleFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 control-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control-wrapper drag-sample-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"schedule-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ScheduleComponent, {\n      cssClass: \"virtual-scrolling block-events\",\n      ref: schedule => this.scheduleObj = schedule,\n      width: \"100%\",\n      height: \"750px\" // allowSorting={true}\n      // editorTemplate={this.editorTemplete}\n      // timeScale={{ enable: false }} \n      ,\n      selectedDate: new Date(2018, 7, 1),\n      currentView: \"TimelineMonth\",\n      showQuickInfo: false,\n      resourceHeaderTemplate: this.resourceHeaderTemplate.bind(this),\n      eventSettings: {\n        dataSource: this.data\n      },\n      renderCell: this.onRenderCell.bind(this),\n      group: {\n        resources: ['Employee'],\n        headerTooltipTemplate: this.headerTooltipTemplate.bind(this)\n      },\n      dataBound: this.onDataBound.bind(this),\n      dataBinding: this.onDataBinding.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ResourcesDirective, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(ResourceDirective, {\n      field: \"EmployeeId\",\n      title: \"Employees\",\n      name: \"Employee\",\n      allowMultiple: false,\n      dataSource: this.employeeData,\n      textField: \"Text\",\n      idField: \"EmployeeId\",\n      colorField: \"Color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 31\n      }\n    })), /*#__PURE__*/React.createElement(ViewsDirective, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(ViewDirective, {\n      option: \"Day\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(ViewDirective, {\n      option: \"Week\",\n      displayName: \"2 Weeks\",\n      interval: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(ViewDirective, {\n      option: \"TimelineDay\",\n      allowVirtualScrolling: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(ViewDirective, {\n      option: \"TimelineWeek\",\n      displayName: \"2 TimelineWeeks\",\n      interval: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(ViewDirective, {\n      option: \"TimelineMonth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Inject, {\n      services: [Day, Week, TimelineViews, TimelineMonth, Resize, DragAndDrop],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"table\", {\n      class: \"cuz-table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 26\n      }\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rraval/Desktop/schedule-component-copy/src/components/drag-drop.js"],"names":["React","ScheduleComponent","ResourcesDirective","ResourceDirective","ViewsDirective","ViewDirective","Inject","TimelineViews","Resize","DragAndDrop","TimelineMonth","Day","Week","extend","isNullOrUndefined","enableRipple","SampleBase","dataSource","Header","SchedulerComponent","constructor","arguments","toggleSchedules","schedule_type","data","employeeData","filter","item","Id","forEach","element","scheduleObj","removeResource","refresh","handleFilter","filterData","Text","EmployeeId","GroupId","Color","Designation","draggedItemId","allowDragAndDrops","blockData","up","count","getEmployeeName","value","resourceData","resource","textField","getEmployeeImage","resourceName","toLowerCase","getEmployeeDesignation","headerTooltipTemplate","props","resourceHeaderTemplate","onDragStart","args","navigation","enable","change","selectedDate","dataBind","timelineEventTemplate","background","PrimaryColor","SecondaryColor","Subject","onRenderCell","elementType","classList","contains","target","querySelector","innerHTML","onDataBinding","document","children","tableChildren","length","k","remove","j","tr","teEle","createElement","append","insertCell","setAttribute","node","querySelectorAll","appendChild","test_div","table","tbody","tbody_tr","td_cell","parentElement","childElementCount","i","dataDate","customRow","getAttribute","add","style","width","offsetWidth","toString","addEventListener","myFunction","left","scrollLeft","div_ele","div_count_ele","onDataBound","proxy","renderedEvents","getCurrentViewEvents","resCol","totalHours","eventColByRes","x","hour","hourDiff","EndTime","getTime","StartTime","innerText","renderDates","getCurrentViewDates","eventColByDate","getDate","hourByDate","upIcon","console","log","resources","sort","a","b","id","downIcon","upEmployeeIcon","downEmployeeIcon","render","schedule","Date","bind"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport '../index.css';\r\nimport { ScheduleComponent,\r\n    ResourcesDirective,\r\n    ResourceDirective, \r\n    ViewsDirective, \r\n    ViewDirective, \r\n    Inject, \r\n    TimelineViews, \r\n    Resize, \r\n    DragAndDrop, \r\n    TimelineMonth, \r\n    Day , \r\n    Week\r\n} from '@syncfusion/ej2-react-schedule';\r\nimport { extend ,isNullOrUndefined,enableRipple} from '@syncfusion/ej2-base';\r\nimport { SampleBase } from '../common/sample-base';\r\nimport * as dataSource from './datasource.json';\r\nimport Header from './Header'\r\nenableRipple(true);\r\n\r\nexport class SchedulerComponent extends SampleBase {    \r\n    constructor() {\r\n        super(...arguments);\r\n        this.employeeData = [\r\n            { Text: 'Alice', EmployeeId: 1, GroupId: 1,  Color: '#cb6bb2', Designation: 'Content writer' },\r\n            { Text: 'Nancy', EmployeeId: 2, GroupId: 2, Color: '#df5286', Designation: 'Designer' },\r\n            { Text: 'Cobert', EmployeeId: 3, GroupId: 1, Color: '#bbdc00', Designation: 'Software Engineer' },\r\n            { Text: 'Robson', EmployeeId: 4, GroupId: 2, Color: '#9e5fff', Designation: 'Software Engineer' },\r\n            { Text: 'Laura', EmployeeId: 5, GroupId: 1, Color: '#bbdc00', Designation: 'Human Resource' },\r\n            { Text: 'Margaret', EmployeeId: 6, GroupId: 2, Color: '#9e5fff', Designation: 'Content Analyst' },\r\n            { Text: 'Iliye', EmployeeId: 7, GroupId: 1, Color: '#bbdc00', Designation: 'Electrician' },\r\n            { Text: 'Mcy Salzar', EmployeeId: 8, GroupId: 2, Color: '#9e5fff', Designation: 'Physician' },\r\n            { Text: 'Laura Albert', EmployeeId: 9, GroupId: 1, Color: '#bbdc00', Designation: 'Human Resource' },\r\n            { Text: 'Yargaret Robert', EmployeeId:10, GroupId: 2, Color: '#9e5fff', Designation: 'Content Analyst' },\r\n            { Text: 'Aliye Zack', EmployeeId: 11, GroupId: 1, Color: '#bbdc00', Designation: 'Electrician' },\r\n            { Text: 'Zcy Lily', EmployeeId: 12, GroupId: 2, Color: '#9e5fff', Designation: 'Physician' },            \r\n        ]        \r\n        // this.isTreeItemDropped = false;\r\n        this.draggedItemId = '';\r\n        this.allowDragAndDrops = true;\r\n        this.data = extend([], dataSource.blockData, null, true);\r\n        this.up = true;\r\n        // this.departmentData = [\r\n        //     { Text: 'Project1', Id: 1, Color: '#cb6bb2' },\r\n        //     { Text: 'Project2', Id: 2, Color: '#9e5fff' }\r\n        // ];\r\n\r\n        this.count = 1;\r\n    }\r\n    getEmployeeName(value) {\r\n        return value.resourceData[value.resource.textField];\r\n    }\r\n    getEmployeeImage(value) {\r\n        let resourceName = this.getEmployeeName(value);\r\n        return resourceName.toLowerCase();\r\n    }\r\n    getEmployeeDesignation(value) {\r\n        return value.resourceData.Designation;\r\n    }\r\n    headerTooltipTemplate(props) {\r\n        return (<div className=\"template-wrap\">\r\n            <div className=\"employee-name\">{this.getEmployeeName(props)}</div>\r\n        </div>);\r\n    }\r\n    resourceHeaderTemplate(props) {\r\n        return (\r\n            <div \r\n            className=\"template-wrap\">\r\n                <div className=\"employee-category\">\r\n                    <div className={\"employee-image \" + this.getEmployeeImage(props)}>\r\n                    </div>\r\n                    <div className=\"employee-name\">\r\n                        {this.getEmployeeName(props)}\r\n                    </div>\r\n                    <div className=\"employee-designation\">\r\n                        {this.getEmployeeDesignation(props)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    onDragStart(args) {\r\n        args.navigation.enable = true;\r\n    }\r\n\r\n    change(args) {\r\n        this.scheduleObj.selectedDate = args.value;\r\n        this.scheduleObj.dataBind();\r\n    }    \r\n\r\n    toggleSchedules = (schedule_type) => {\r\n        if (schedule_type === 'my_schedule') {\r\n            const data = this.employeeData.filter(item => item.Id !== 1);\r\n            data.forEach(element => {\r\n                this.scheduleObj.removeResource(element.Id, 'Employee');               \r\n            });\r\n        } else {\r\n            this.scheduleObj.refresh()\r\n        }\r\n    }\r\n    timelineEventTemplate(props) {\r\n        return (\r\n            <div \r\n            className=\"template-wrap\" \r\n            style={{ background: props.PrimaryColor }}>\r\n                <div \r\n                className=\"subject\" \r\n                style={{ background: props.SecondaryColor }}>\r\n                    {props.Subject}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    onRenderCell(args) {\r\n        if (args.elementType === 'emptyCells' && args.element.classList.contains('e-resource-left-td')) {\r\n          let target = args.element.querySelector('.e-resource-text');\r\n          target.innerHTML = \"<div><span style='margin-right: 10px'>Id</span><span id='Id' class='e-icons up id'></span> \" +\r\n          \"<span style='margin-right: 10px;'>Employee</span><span id='Text' class='e-icons up employee'>\"+\r\n           \"</span>\"+\r\n          \"<br/>\"+ \r\n         \" <span style='margin-right: 10px; color:white'>Id</span>\"+\r\n         \"<span id='Id' class='e-icons down id'>\"+\r\n           \"</span>\"+ \r\n           \" <span style='margin-right: 10px; color:white'>Employee</span>\"+\r\n           \"<span id='Text' class='e-icons down employee'> \"+\r\n           \"</span>\"+\r\n           \"</div>\";\r\n        }\r\n      }\r\n\r\n      onDataBinding(args) {\r\n        if (!isNullOrUndefined(document.querySelector(\".cuz-table\").children[0].children[0])) {\r\n          let tableChildren = (document.querySelector(\".cuz-table\").children[0].children).length;\r\n          for (let k = 0; k < tableChildren; k++) {\r\n            document.querySelector(\".cuz-table\").children[0].children[0].remove();\r\n          }\r\n        }\r\n        if (isNullOrUndefined(document.querySelector('.test-last-cell'))) {\r\n          for (let j = 0; j < this.count; j++) {\r\n            if (document.querySelector('.cuz-table')) {\r\n              let tr = document.querySelector('.cuz-table').children[0];\r\n              let teEle = document.createElement(\"tr\");\r\n              tr.append(teEle);\r\n              (tr.children[j]).insertCell(0).setAttribute('class', 'test-last-cell');\r\n              (tr.children[j]).insertCell(0).setAttribute('class', 'test-last-rec');\r\n              let node = document.createElement(\"div\");\r\n              node.setAttribute('class', 'test-last-rec-divzz');\r\n              document.querySelectorAll('.test-last-rec')[j].appendChild(node);\r\n              let test_div = document.createElement(\"div\");\r\n              test_div.setAttribute('class', 'test-last-cell-divzz');\r\n              document.querySelectorAll('.test-last-cell')[j].appendChild(test_div);\r\n              let table = document.createElement(\"TABLE\");\r\n              table.setAttribute('class', 'test-last-table');\r\n              document.querySelectorAll('.test-last-cell-divzz')[j].appendChild(table);\r\n              let tbody = document.createElement(\"TBODY\");\r\n              tbody.setAttribute('class', 'test-last-tbody');\r\n              document.querySelectorAll('.test-last-table')[j].appendChild(tbody);\r\n              let tbody_tr = document.createElement(\"TR\");\r\n              tbody_tr.setAttribute('class', 'test-last-tr');\r\n              document.querySelectorAll('.test-last-tbody')[j].appendChild(tbody_tr);\r\n              let td_cell = document.querySelector(\".e-work-cells\").parentElement;\r\n              let length = td_cell.childElementCount;\r\n              for (let i = 0; i < length; i++) {\r\n                (document.querySelectorAll(\".test-last-tr\")[j]).insertCell(0).setAttribute('class', 'test-last-td');\r\n              }\r\n            }\r\n            let dataDate = document.querySelector(\".e-work-cells\").parentElement;\r\n            let customRow = document.querySelectorAll(\".test-last-td\");\r\n            let length = dataDate.childElementCount;\r\n            for (let j = 0; j < length; j++) {\r\n              customRow[j].setAttribute(\"data-date\", dataDate.children[j].getAttribute(\"data-date\"));\r\n            }\r\n          }\r\n          document.querySelector(\".cuz-table\").children[0].children[0].classList.add(\"tr-custom-row\");\r\n          (document.querySelectorAll('.test-last-cell-divzz')[0]).style.width = ((document.querySelector('.e-content-wrap')).offsetWidth).toString() + \"px\";\r\n          document.querySelectorAll('.test-last-rec-divzz')[0].innerHTML = \"Total Hours\";\r\n          document.querySelector(\".e-content-wrap\").addEventListener(\"scroll\", myFunction);\r\n          function myFunction() {\r\n            let left = document.querySelector('.e-content-wrap').scrollLeft;\r\n            (document.querySelectorAll('.test-last-cell-divzz')[0]).scrollLeft = left;\r\n          }\r\n          let div_ele = document.createElement(\"div\");\r\n          div_ele.setAttribute('class', 'time-cell-div');\r\n          document.querySelectorAll(\".e-resource-cells\")[1].appendChild(div_ele);\r\n          let div_count_ele = document.createElement(\"div\");\r\n          div_count_ele.setAttribute('class', 'count-cell-div');\r\n          document.querySelectorAll(\".e-resource-cells\")[0].appendChild(div_count_ele);\r\n        }\r\n      }\r\n\r\n    onDataBound() {     \r\n        let proxy = this;   \r\n        let renderedEvents = this.scheduleObj.getCurrentViewEvents();\r\n        let resCol = this.employeeData;\r\n        let totalHours = 0;      \r\n        if (proxy.up)  {\r\n            for (let i = 0; i < resCol.length; i++) {          \r\n                let eventColByRes = renderedEvents.filter(x =>  x.EmployeeId === (resCol[i]).EmployeeId);          \r\n                let hour = 0;\r\n                for (let j = 0; j < eventColByRes.length; j++) {\r\n                  let hourDiff = (eventColByRes[j].EndTime.getTime() - eventColByRes[j].StartTime.getTime()) / 1000;\r\n                  hourDiff /= (60 * 60);\r\n                  hour = hour + hourDiff;            \r\n                }                  \r\n                document.querySelectorAll('.employee-name')[i].innerText = (resCol[i]).Text + \" (Hrs: \" + hour.toString() + \")\";          \r\n                totalHours = totalHours + hour;          \r\n              }\r\n        } else {\r\n            for (let i = resCol.length; i > 0; i--) {          \r\n                let eventColByRes = renderedEvents.filter(x =>  x.EmployeeId === (resCol[i]).EmployeeId);          \r\n                let hour = 0;\r\n                for (let j = 0; j < eventColByRes.length; j++) {\r\n                  let hourDiff = (eventColByRes[j].EndTime.getTime() - eventColByRes[j].StartTime.getTime()) / 1000;\r\n                  hourDiff /= (60 * 60);\r\n                  hour = hour + hourDiff;            \r\n                }                  \r\n                document.querySelectorAll('.employee-name')[i].innerText = (resCol[i]).Text + \" (Hrs: \" + hour.toString() + \")\";          \r\n                totalHours = totalHours + hour;          \r\n              }\r\n        }\r\n        \r\n        document.querySelector('.test-last-rec-divzz').innerText = \"Total Hours: \" + totalHours.toString();\r\n        let renderDates = this.scheduleObj.getCurrentViewDates();        \r\n        for (let i = 0; i < renderDates.length; i++) {\r\n          let eventColByDate = (renderedEvents).filter(x => x.StartTime.getDate() === (renderDates[i]).getDate());\r\n          let hourByDate = 0;\r\n          for (let j = 0; j < eventColByDate.length; j++) {\r\n            let hourDiff = (eventColByDate[j].EndTime.getTime() - eventColByDate[j].StartTime.getTime()) / 1000;\r\n            hourDiff /= (60 * 60);\r\n            hourByDate = hourByDate + hourDiff;\r\n          }\r\n          (document.querySelectorAll('.test-last-td')[i]).innerText = \"Hrs: \" + hourByDate.toString();\r\n        }\r\n\r\n        \r\n        const upIcon = document.querySelector('.e-icons.up.id')\r\n        upIcon.addEventListener(\"click\", function () { \r\n          let data = extend([], proxy.employeeData, null, true);\r\n          console.log(data);\r\n          proxy.scheduleObj.resources[0].dataSource = data.sort(function (a,b) { \r\n              if(a[upIcon.id] < b[upIcon.id]){\r\n                  return -1 \r\n              }else if (a[upIcon.id] > b[upIcon.id] ){\r\n                  return 1\r\n              }else{\r\n                  return 0\r\n              }\r\n                });\r\n        });\r\n        const downIcon = document.querySelector('.e-icons.down.id')\r\n        downIcon.addEventListener(\"click\", function () { \r\n          let data = extend([], proxy.employeeData, null, true);\r\n          console.log(data);\r\n          proxy.scheduleObj.resources[0].dataSource = data.sort(function (a,b) { \r\n              if(a[downIcon.id] > b[downIcon.id]){\r\n                  return -1 \r\n              }else if (a[downIcon.id] < b[downIcon.id] ){\r\n                  return 1\r\n              }else{\r\n                  return 0\r\n              }\r\n                });\r\n        });\r\n        const upEmployeeIcon = document.querySelector('.e-icons.up.employee')\r\n        upEmployeeIcon.addEventListener(\"click\", function () { \r\n            // proxy.up = true;\r\n          let data = extend([], proxy.employeeData, null, true);\r\n          console.log(data);\r\n          proxy.scheduleObj.resources[0].dataSource = data.sort(function (a,b) { \r\n              if(a[upEmployeeIcon.id] < b[upEmployeeIcon.id]){\r\n                  return -1 \r\n              }else if (a[upEmployeeIcon.id] > b[upEmployeeIcon.id] ){\r\n                  return 1\r\n              }else{\r\n                  return 0\r\n              }\r\n                });\r\n        });\r\n        const downEmployeeIcon = document.querySelector('.e-icons.down.employee')\r\n        downEmployeeIcon.addEventListener(\"click\", function () { \r\n            // proxy.up = false;\r\n          let data = extend([], proxy.employeeData, null, true);\r\n          console.log(data);\r\n          proxy.scheduleObj.resources[0].dataSource = data.sort(function (a,b) { \r\n              if(a[downEmployeeIcon.id] > b[downEmployeeIcon.id]){\r\n                  return -1 \r\n              }else if (a[downEmployeeIcon.id] < b[downEmployeeIcon.id] ){\r\n                  return 1\r\n              }else{\r\n                  return 0\r\n              }\r\n                });\r\n        });\r\n    \r\n        document.querySelector('.e-icons.down').addEventListener(\"click\", function () {\r\n          let data = extend([], proxy.employeeData, null, true);\r\n          proxy.scheduleObj.resources[0].dataSource = data.sort(function (a,b) { \r\n                if(b.Text < a.Text){\r\n                    return -1 \r\n                }else if (b.Text > a.Text ){\r\n                    return 1\r\n                }else{\r\n                    return 0\r\n                }\r\n           });\r\n        });\r\n\r\n      }\r\n      \r\n\r\n      handleFilter = (filterData) =>{\r\n\r\n        if(!filterData){\r\n            this.scheduleObj.refresh();\r\n            return;\r\n        }\r\n        filterData.forEach(element => {\r\n            this.scheduleObj.removeResource(element.Id, 'Employee');               \r\n        });\r\n      }\r\n\r\n \r\n    render() {\r\n        return (<div className='schedule-control-section'>\r\n            <Header toggleSchedules={this.toggleSchedules} \r\n            employeeData={this.employeeData} \r\n            data={this.data} \r\n            handleFilter={this.handleFilter}/>\r\n            <div className='col-lg-12 control-section'>\r\n                <div className='control-wrapper drag-sample-wrapper'>\r\n                    <div className=\"schedule-container\">                                                \r\n                        <ScheduleComponent \r\n                        cssClass='virtual-scrolling block-events'\r\n                        ref={schedule => this.scheduleObj = schedule}                         \r\n                        width='100%' \r\n                        height='750px' \r\n                        // allowSorting={true}\r\n                        // editorTemplate={this.editorTemplete}\r\n                        // timeScale={{ enable: false }} \r\n                        selectedDate={new Date(2018, 7, 1)} \r\n                        currentView='TimelineMonth' \r\n                        showQuickInfo={false}                       \r\n                        resourceHeaderTemplate={this.resourceHeaderTemplate.bind(this)} \r\n                        eventSettings={{dataSource: this.data}}\r\n                        renderCell={this.onRenderCell.bind(this)}\r\n                        group={{ resources: ['Employee'] , headerTooltipTemplate: this.headerTooltipTemplate.bind(this)}}\r\n                        dataBound={this.onDataBound.bind(this)}\r\n                        dataBinding={(this.onDataBinding.bind(this))}\r\n                      >\r\n                          <ResourcesDirective>\r\n                              <ResourceDirective \r\n                                field='EmployeeId' \r\n                                title='Employees' \r\n                                name='Employee' \r\n                                allowMultiple={false} \r\n                                dataSource={this.employeeData} \r\n                                textField='Text' \r\n                                idField='EmployeeId'                                \r\n                                colorField='Color'>\r\n                                </ResourceDirective>\r\n                            </ResourcesDirective>\r\n                            <ViewsDirective>\r\n                                <ViewDirective option='Day' />\r\n                                <ViewDirective option='Week' displayName=\"2 Weeks\" interval={2}/>\r\n                                <ViewDirective option='TimelineDay' allowVirtualScrolling={true}/>\r\n                                <ViewDirective option='TimelineWeek' displayName='2 TimelineWeeks' interval={2} />\r\n                                <ViewDirective option='TimelineMonth' />\r\n                            </ViewsDirective>\r\n                            <Inject services={\r\n                                [Day,Week, TimelineViews, TimelineMonth, Resize, DragAndDrop]} />\r\n                        </ScheduleComponent>\r\n                        <table class=\"cuz-table\">\r\n                         <tbody></tbody>\r\n                    </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>);\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}