{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll, addClass, removeClass, remove } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { isBlazor, getRandomId, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_BLA_TEM = 'blazor-template';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_TAB = 'e-icon-tab';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_HOR_NAV = 'e-hor-nav';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar CLS_HSCRCNT = 'e-hscroll-content';\nvar CLS_VSCRCNT = 'e-vscroll-content';\nvar CLS_HORIZONTAL = 'e-horizontal';\nvar CLS_VTAB = 'e-vertical-tab';\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_VLEFT = 'e-vertical-left';\nvar CLS_VRIGHT = 'e-vertical-right';\nvar CLS_HBOTTOM = 'e-horizontal-bottom';\nvar CLS_FILL = 'e-fill-mode';\n/**\n * Objects used for configuring the Tab selecting item action properties.\n */\n\nvar TabActionSettings =\n/** @class */\nfunction (_super) {\n  __extends(TabActionSettings, _super);\n\n  function TabActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('SlideLeftIn')], TabActionSettings.prototype, \"effect\", void 0);\n\n  __decorate([Property(600)], TabActionSettings.prototype, \"duration\", void 0);\n\n  __decorate([Property('ease')], TabActionSettings.prototype, \"easing\", void 0);\n\n  return TabActionSettings;\n}(ChildProperty);\n\nexport { TabActionSettings };\n/**\n * Objects used for configuring the Tab animation properties.\n */\n\nvar TabAnimationSettings =\n/** @class */\nfunction (_super) {\n  __extends(TabAnimationSettings, _super);\n\n  function TabAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Complex({\n    effect: 'SlideLeftIn',\n    duration: 600,\n    easing: 'ease'\n  }, TabActionSettings)], TabAnimationSettings.prototype, \"previous\", void 0);\n\n  __decorate([Complex({\n    effect: 'SlideRightIn',\n    duration: 600,\n    easing: 'ease'\n  }, TabActionSettings)], TabAnimationSettings.prototype, \"next\", void 0);\n\n  return TabAnimationSettings;\n}(ChildProperty);\n\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\n\nvar Header =\n/** @class */\nfunction (_super) {\n  __extends(Header, _super);\n\n  function Header() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('')], Header.prototype, \"text\", void 0);\n\n  __decorate([Property('')], Header.prototype, \"iconCss\", void 0);\n\n  __decorate([Property('left')], Header.prototype, \"iconPosition\", void 0);\n\n  return Header;\n}(ChildProperty);\n\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\n\nvar TabItem =\n/** @class */\nfunction (_super) {\n  __extends(TabItem, _super);\n\n  function TabItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Complex({}, Header)], TabItem.prototype, \"header\", void 0);\n\n  __decorate([Property(null)], TabItem.prototype, \"headerTemplate\", void 0);\n\n  __decorate([Property('')], TabItem.prototype, \"content\", void 0);\n\n  __decorate([Property('')], TabItem.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(false)], TabItem.prototype, \"disabled\", void 0);\n\n  __decorate([Property(true)], TabItem.prototype, \"visible\", void 0);\n\n  return TabItem;\n}(ChildProperty);\n\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\n\nvar Tab =\n/** @class */\nfunction (_super) {\n  __extends(Tab, _super);\n  /**\n   * Initializes a new instance of the Tab class.\n   * @param options  - Specifies Tab model properties as options.\n   * @param element  - Specifies the element that is rendered as a Tab.\n   */\n\n\n  function Tab(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.show = {};\n    _this.hide = {};\n    _this.maxHeight = 0;\n    _this.title = 'Close';\n    _this.lastIndex = 0;\n    _this.isAdd = false;\n    _this.isIconAlone = false;\n    _this.resizeContext = _this.refreshActElePosition.bind(_this);\n    /**\n     * Contains the keyboard configuration of the Tab.\n     */\n\n    _this.keyConfigs = {\n      tab: 'tab',\n      home: 'home',\n      end: 'end',\n      enter: 'enter',\n      space: 'space',\n      delete: 'delete',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow'\n    };\n    return _this;\n  }\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n   * @returns void\n   */\n\n\n  Tab.prototype.destroy = function () {\n    var _this = this;\n\n    if (!isNOU(this.tbObj)) {\n      this.tbObj.destroy();\n    }\n\n    this.unWireEvents();\n    ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n      _this.element.removeAttribute(val);\n    });\n    this.expTemplateContent();\n\n    if (!this.isTemplate) {\n      while (this.element.firstElementChild) {\n        remove(this.element.firstElementChild);\n      }\n    } else {\n      var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n      this.element.classList.remove(CLS_TEMPLATE);\n\n      if (!isNOU(cntEle)) {\n        cntEle.innerHTML = this.cnt;\n      }\n    }\n\n    _super.prototype.destroy.call(this);\n\n    this.trigger('destroyed');\n  };\n  /**\n   * Refresh the tab component\n   */\n\n\n  Tab.prototype.refresh = function () {\n    if (!this.isServerRendered) {\n      _super.prototype.refresh.call(this);\n    } else if (this.isServerRendered && this.loadOn !== 'Dynamic') {\n      this.setActiveBorder();\n    }\n  };\n  /**\n   * Initialize component\n   * @private\n   */\n\n\n  Tab.prototype.preRender = function () {\n    var nested = closest(this.element, '.' + CLS_CONTENT);\n    this.prevIndex = 0;\n    this.isNested = false;\n    this.isPopup = false;\n    this.initRender = true;\n    this.isSwipeed = false;\n    this.itemIndexArray = [];\n    this.templateEle = [];\n\n    if (!isNOU(nested)) {\n      nested.parentElement.classList.add(CLS_NEST);\n      this.isNested = true;\n    }\n\n    var name = Browser.info.name;\n    var css = name === 'msie' ? 'e-ie' : name === 'edge' ? 'e-edge' : name === 'safari' ? 'e-safari' : '';\n    setStyle(this.element, {\n      'width': formatUnit(this.width),\n      'height': formatUnit(this.height)\n    });\n    this.setCssClass(this.element, this.cssClass, true);\n    attributes(this.element, {\n      role: 'tablist',\n      'aria-disabled': 'false',\n      'aria-activedescendant': ''\n    });\n    this.setCssClass(this.element, css, true);\n    this.updatePopAnimationConfig();\n  };\n  /**\n   * Initialize the component rendering\n   * @private\n   */\n\n\n  Tab.prototype.render = function () {\n    this.btnCls = this.createElement('span', {\n      className: CLS_ICONS + ' ' + CLS_ICON_CLOSE,\n      attrs: {\n        title: this.title\n      }\n    });\n    this.tabId = this.element.id.length > 0 ? '-' + this.element.id : getRandomId();\n    this.renderContainer();\n    this.wireEvents();\n    this.initRender = false;\n  };\n\n  Tab.prototype.renderContainer = function () {\n    if (this.isServerRendered) {\n      this.isTemplate = false;\n      return;\n    }\n\n    var ele = this.element;\n\n    if (this.items.length > 0 && ele.children.length === 0) {\n      ele.appendChild(this.createElement('div', {\n        className: CLS_CONTENT\n      }));\n      this.setOrientation(this.headerPlacement, this.createElement('div', {\n        className: CLS_HEADER\n      }));\n      this.isTemplate = false;\n    } else if (this.element.children.length > 0) {\n      this.isTemplate = true;\n      ele.classList.add(CLS_TEMPLATE);\n      var header = ele.querySelector('.' + CLS_HEADER);\n\n      if (header && this.headerPlacement === 'Bottom') {\n        this.setOrientation(this.headerPlacement, header);\n      }\n    }\n\n    if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n      this.renderHeader();\n      this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n\n      if (!isNOU(this.tbItems)) {\n        rippleEffect(this.tbItems, {\n          selector: '.e-tab-wrap'\n        });\n      }\n\n      this.renderContent();\n\n      if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n        var scrCnt = void 0;\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.bdrLine = this.createElement('div', {\n          className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE\n        });\n        scrCnt = select('.' + this.scrCntClass, this.tbItems);\n\n        if (!isNOU(scrCnt)) {\n          scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n        } else {\n          this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n        }\n\n        this.setContentHeight(true);\n        this.select(this.selectedItem);\n      }\n\n      this.setRTL(this.enableRtl);\n    }\n  };\n\n  Tab.prototype.serverItemsChanged = function () {\n    this.enableAnimation = false;\n    this.setActive(this.selectedItem, true);\n\n    if (this.loadOn !== 'Dynamic' && !isNOU(this.cntEle)) {\n      var itemCollection = [].slice.call(this.cntEle.children);\n      var content_1 = CLS_CONTENT + this.tabId + '_' + this.selectedItem;\n      itemCollection.forEach(function (item) {\n        if (item.classList.contains(CLS_ACTIVE) && item.id !== content_1) {\n          item.classList.remove(CLS_ACTIVE);\n        }\n\n        if (item.id === content_1) {\n          item.classList.add(CLS_ACTIVE);\n        }\n      });\n      this.prevIndex = this.selectedItem;\n      this.triggerAnimation(CLS_ITEM + this.tabId + '_' + this.selectedItem, false);\n    }\n\n    this.enableAnimation = true;\n  };\n\n  Tab.prototype.headerReady = function () {\n    this.initRender = true;\n    this.hdrEle = this.getTabHeader();\n    this.setOrientation(this.headerPlacement, this.hdrEle);\n\n    if (!isNOU(this.hdrEle)) {\n      this.tbObj = this.hdrEle && this.hdrEle.ej2_instances[0];\n    }\n\n    this.tbObj.clicked = this.clickHandler.bind(this);\n    this.tbObj.on('onItemsChanged', this.serverItemsChanged.bind(this));\n    this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n\n    if (!isNOU(this.tbItems)) {\n      rippleEffect(this.tbItems, {\n        selector: '.e-tab-wrap'\n      });\n    }\n\n    if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n      var scrollCnt = void 0;\n      this.bdrLine = select('.' + CLS_INDICATOR + '.' + CLS_IGNORE, this.element);\n      scrollCnt = select('.' + this.scrCntClass, this.tbItems);\n\n      if (!isNOU(scrollCnt)) {\n        scrollCnt.insertBefore(this.bdrLine, scrollCnt.firstElementChild);\n      } else {\n        this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstElementChild);\n      }\n\n      this.select(this.selectedItem);\n    }\n\n    this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n\n    if (!isNOU(this.cntEle)) {\n      this.touchModule = new Touch(this.cntEle, {\n        swipe: this.swipeHandler.bind(this)\n      });\n    }\n\n    if (this.loadOn === 'Demand') {\n      var id = this.setActiveContent();\n      this.triggerAnimation(id, false);\n    }\n\n    this.initRender = false;\n    this.renderComplete();\n  };\n\n  Tab.prototype.setActiveContent = function () {\n    var id = CLS_ITEM + this.tabId + '_' + this.selectedItem;\n    var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n\n    if (!isNOU(item)) {\n      item.classList.add(CLS_ACTIVE);\n    }\n\n    return id;\n  };\n\n  Tab.prototype.renderHeader = function () {\n    var _this = this;\n\n    var hdrPlace = this.headerPlacement;\n    var tabItems = [];\n    this.hdrEle = this.getTabHeader();\n    this.addVerticalClass();\n\n    if (!this.isTemplate) {\n      tabItems = this.parseObject(this.items, 0);\n    } else {\n      if (this.element.children.length > 1 && this.element.children[1].classList.contains(CLS_HEADER)) {\n        this.setProperties({\n          headerPlacement: 'Bottom'\n        }, true);\n      }\n\n      var count = this.hdrEle.children.length;\n      var hdrItems = [];\n\n      for (var i = 0; i < count; i++) {\n        hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n      }\n\n      if (count > 0) {\n        while (this.hdrEle.firstElementChild) {\n          detach(this.hdrEle.firstElementChild);\n        }\n\n        var tabItems_1 = this.createElement('div', {\n          className: CLS_ITEMS\n        });\n        this.hdrEle.appendChild(tabItems_1);\n        hdrItems.forEach(function (item, index) {\n          _this.lastIndex = index;\n          var attr = {\n            className: CLS_ITEM,\n            id: CLS_ITEM + _this.tabId + '_' + index,\n            attrs: {\n              role: 'tab',\n              'aria-controls': CLS_CONTENT + _this.tabId + '_' + index,\n              'aria-selected': 'false'\n            }\n          };\n\n          var txt = _this.createElement('span', {\n            className: CLS_TEXT,\n            innerHTML: item,\n            attrs: {\n              'role': 'presentation'\n            }\n          }).outerHTML;\n\n          var cont = _this.createElement('div', {\n            className: CLS_TEXT_WRAP,\n            innerHTML: txt + _this.btnCls.outerHTML\n          }).outerHTML;\n\n          var wrap = _this.createElement('div', {\n            className: CLS_WRAP,\n            innerHTML: cont,\n            attrs: {\n              tabIndex: '-1'\n            }\n          });\n\n          tabItems_1.appendChild(_this.createElement('div', attr));\n          selectAll('.' + CLS_ITEM, tabItems_1)[index].appendChild(wrap);\n        });\n      }\n    }\n\n    this.tbObj = new Toolbar({\n      width: hdrPlace === 'Left' || hdrPlace === 'Right' ? 'auto' : '100%',\n      height: hdrPlace === 'Left' || hdrPlace === 'Right' ? '100%' : 'auto',\n      overflowMode: this.overflowMode,\n      items: tabItems.length !== 0 ? tabItems : [],\n      clicked: this.clickHandler.bind(this),\n      scrollStep: this.scrollStep,\n      enableHtmlSanitizer: this.enableHtmlSanitizer\n    });\n    this.tbObj.isStringTemplate = true;\n    this.tbObj.createElement = this.createElement;\n    this.tbObj.appendTo(this.hdrEle);\n    attributes(this.hdrEle, {\n      'aria-label': 'tab-header'\n    });\n    this.updateOrientationAttribute();\n    this.setCloseButton(this.showCloseButton);\n  };\n\n  Tab.prototype.renderContent = function () {\n    this.cntEle = select('.' + CLS_CONTENT, this.element);\n    var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n\n    if (this.isTemplate) {\n      this.cnt = this.cntEle.children.length > 0 ? this.cntEle.innerHTML : '';\n      var contents = this.cntEle.children;\n\n      for (var i = 0; i < hdrItem.length; i++) {\n        if (contents.length - 1 >= i) {\n          contents.item(i).className += CLS_ITEM;\n          attributes(contents.item(i), {\n            'role': 'tabpanel',\n            'aria-labelledby': CLS_ITEM + this.tabId + '_' + i\n          });\n          contents.item(i).id = CLS_CONTENT + this.tabId + '_' + i;\n        }\n      }\n    }\n  };\n\n  Tab.prototype.reRenderItems = function () {\n    this.renderContainer();\n\n    if (!isNOU(this.cntEle)) {\n      this.touchModule = new Touch(this.cntEle, {\n        swipe: this.swipeHandler.bind(this)\n      });\n    }\n  };\n\n  Tab.prototype.parseObject = function (items, index) {\n    var _this = this;\n\n    var tbCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n    var tItems = [];\n    var txtWrapEle;\n    var spliceArray = [];\n    var i = 0;\n    items.forEach(function (item, i) {\n      var pos = isNOU(item.header) || isNOU(item.header.iconPosition) ? '' : item.header.iconPosition;\n      var css = isNOU(item.header) || isNOU(item.header.iconCss) ? '' : item.header.iconCss;\n\n      if (isNOU(item.headerTemplate) && (isNOU(item.header) || isNOU(item.header.text) || item.header.text.length === 0 && css === '')) {\n        spliceArray.push(i);\n        return;\n      }\n\n      var txt = item.headerTemplate || item.header.text;\n\n      if (typeof txt === 'string' && _this.enableHtmlSanitizer) {\n        txt = SanitizeHtmlHelper.sanitize(txt);\n      }\n\n      _this.lastIndex = tbCount === 0 ? i : _this.isReplace ? index + i : _this.lastIndex + 1;\n      var disabled = item.disabled ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n      var hidden = item.visible === false ? ' ' + CLS_HIDDEN : '';\n      txtWrapEle = _this.createElement('div', {\n        className: CLS_TEXT,\n        attrs: {\n          'role': 'presentation'\n        }\n      });\n      var tHtml = txt instanceof Object ? txt.outerHTML : txt;\n      var txtEmpty = !isNOU(tHtml) && tHtml !== '';\n\n      if (!isNOU(txt.tagName)) {\n        txtWrapEle.appendChild(txt);\n      } else {\n        _this.headerTextCompile(txtWrapEle, txt, i);\n      }\n\n      var tEle;\n\n      var icon = _this.createElement('span', {\n        className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n      });\n\n      var tCont = _this.createElement('div', {\n        className: CLS_TEXT_WRAP\n      });\n\n      tCont.appendChild(txtWrapEle);\n\n      if (txt !== '' && txt !== undefined && css !== '') {\n        if (pos === 'left' || pos === 'top') {\n          tCont.insertBefore(icon, tCont.firstElementChild);\n        } else {\n          tCont.appendChild(icon);\n        }\n\n        tEle = txtWrapEle;\n        _this.isIconAlone = false;\n      } else {\n        tEle = css === '' ? txtWrapEle : icon;\n\n        if (tEle === icon) {\n          detach(txtWrapEle);\n          tCont.appendChild(icon);\n          _this.isIconAlone = true;\n        }\n      }\n\n      var wrapAttrs = item.disabled ? {} : {\n        tabIndex: '-1'\n      };\n      tCont.appendChild(_this.btnCls.cloneNode(true));\n\n      var wrap = _this.createElement('div', {\n        className: CLS_WRAP,\n        attrs: wrapAttrs\n      });\n\n      wrap.appendChild(tCont);\n\n      if (_this.itemIndexArray === []) {\n        _this.itemIndexArray.push(CLS_ITEM + _this.tabId + '_' + _this.lastIndex);\n      } else {\n        _this.itemIndexArray.splice(index + i, 0, CLS_ITEM + _this.tabId + '_' + _this.lastIndex);\n      }\n\n      var attrObj = {\n        id: CLS_ITEM + _this.tabId + '_' + _this.lastIndex,\n        role: 'tab',\n        'aria-selected': 'false'\n      };\n      var tItem = {\n        htmlAttributes: attrObj,\n        template: wrap\n      };\n      tItem.cssClass = (item.cssClass !== undefined ? item.cssClass : ' ') + ' ' + disabled + ' ' + hidden + (css !== '' ? 'e-i' + pos : '') + ' ' + (!txtEmpty ? CLS_ICON : '');\n\n      if (pos === 'top' || pos === 'bottom') {\n        _this.element.classList.add('e-vertical-icon');\n      }\n\n      tItems.push(tItem);\n      i++;\n    });\n\n    if (!this.isAdd) {\n      spliceArray.forEach(function (spliceItemIndex) {\n        _this.items.splice(spliceItemIndex, 1);\n      });\n    }\n\n    this.isIconAlone ? this.element.classList.add(CLS_ICON_TAB) : this.element.classList.remove(CLS_ICON_TAB);\n    return tItems;\n  };\n\n  Tab.prototype.removeActiveClass = function () {\n    var tabHeader = this.getTabHeader();\n\n    if (tabHeader) {\n      var tabItems = selectAll('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, tabHeader);\n      [].slice.call(tabItems).forEach(function (node) {\n        return node.classList.remove(CLS_ACTIVE);\n      });\n    }\n  };\n\n  Tab.prototype.checkPopupOverflow = function (ele) {\n    this.tbPop = select('.' + CLS_TB_POP, this.element);\n    var popIcon = select('.e-hor-nav', this.element);\n    var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n    var lastChild = tbrItems.lastChild;\n    var isOverflow = false;\n\n    if (!this.isVertical() && (this.enableRtl && popIcon.offsetLeft + popIcon.offsetWidth > tbrItems.offsetLeft || !this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n      isOverflow = true;\n    } else if (this.isVertical() && popIcon.offsetTop < lastChild.offsetTop + lastChild.offsetHeight) {\n      isOverflow = true;\n    }\n\n    if (isOverflow) {\n      ele.classList.add(CLS_TB_POPUP);\n      this.tbPop.insertBefore(ele, selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n    }\n\n    return true;\n  };\n\n  Tab.prototype.popupHandler = function (target) {\n    var ripEle = target.querySelector('.e-ripple-element');\n\n    if (!isNOU(ripEle)) {\n      ripEle.outerHTML = '';\n      target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n    }\n\n    this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n    var lastChild = this.tbItem[this.tbItem.length - 1];\n\n    if (this.tbItem.length !== 0) {\n      target.classList.remove(CLS_TB_POPUP);\n      target.removeAttribute('style');\n      this.tbItems.appendChild(target);\n      this.actEleId = target.id;\n\n      if (this.checkPopupOverflow(lastChild)) {\n        var prevEle = this.tbItems.lastChild.previousElementSibling;\n        this.checkPopupOverflow(prevEle);\n      }\n\n      this.isPopup = true;\n    }\n\n    return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n  };\n\n  Tab.prototype.updateOrientationAttribute = function () {\n    attributes(this.element, {\n      'aria-orientation': this.isVertical() ? 'vertical' : 'horizontal'\n    });\n  };\n\n  Tab.prototype.setCloseButton = function (val) {\n    var trg = select('.' + CLS_HEADER, this.element);\n    val === true ? trg.classList.add(CLS_CLOSE_SHOW) : trg.classList.remove(CLS_CLOSE_SHOW);\n    this.tbObj.refreshOverflow();\n    this.refreshActElePosition();\n  };\n\n  Tab.prototype.prevCtnAnimation = function (prev, current) {\n    var animation;\n    var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n\n    if (this.isPopup || prev <= current) {\n      if (this.animation.previous.effect === 'SlideLeftIn') {\n        animation = {\n          name: 'SlideLeftOut',\n          duration: this.animation.previous.duration,\n          timingFunction: this.animation.previous.easing\n        };\n      } else {\n        animation = null;\n      }\n    } else {\n      if (this.animation.next.effect === 'SlideRightIn') {\n        animation = {\n          name: 'SlideRightOut',\n          duration: this.animation.next.duration,\n          timingFunction: this.animation.next.easing\n        };\n      } else {\n        animation = null;\n      }\n    }\n\n    return animation;\n  };\n\n  Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n    var _this = this;\n\n    var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n\n    if (!isNOU(animateObj)) {\n      animateObj.begin = function () {\n        setStyle(oldCnt, {\n          'position': 'absolute'\n        });\n        oldCnt.classList.add(CLS_PROGRESS);\n        oldCnt.classList.add('e-view');\n      };\n\n      animateObj.end = function () {\n        oldCnt.style.display = 'none';\n        oldCnt.classList.remove(CLS_ACTIVE);\n        oldCnt.classList.remove(CLS_PROGRESS);\n        oldCnt.classList.remove('e-view');\n        setStyle(oldCnt, {\n          'display': '',\n          'position': ''\n        });\n\n        if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n          detach(oldCnt);\n        }\n      };\n\n      new Animation(animateObj).animate(oldCnt);\n    } else {\n      oldCnt.classList.remove(CLS_ACTIVE);\n    }\n  };\n\n  Tab.prototype.triggerAnimation = function (id, value) {\n    var _this = this;\n\n    var prevIndex = this.prevIndex;\n    var oldCnt;\n    var newCnt;\n\n    if (!this.isServerRendered || this.isServerRendered && this.loadOn !== 'Dynamic') {\n      var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n      itemCollection.forEach(function (item) {\n        if (item.id === _this.prevActiveEle) {\n          oldCnt = item;\n        }\n      });\n      var prevEle = this.tbItem[prevIndex];\n      newCnt = this.getTrgContent(this.cntEle, this.extIndex(id));\n\n      if (isNOU(oldCnt) && !isNOU(prevEle)) {\n        var idNo = this.extIndex(prevEle.id);\n        oldCnt = this.getTrgContent(this.cntEle, idNo);\n      }\n    } else {\n      newCnt = this.cntEle.firstElementChild;\n    }\n\n    if (!isNOU(newCnt)) {\n      this.prevActiveEle = newCnt.id;\n    }\n\n    if (this.initRender || value === false || this.animation === {} || isNOU(this.animation)) {\n      if (oldCnt && oldCnt !== newCnt) {\n        oldCnt.classList.remove(CLS_ACTIVE);\n      }\n\n      return;\n    }\n\n    var cnt = select('.' + CLS_CONTENT, this.element);\n    var animateObj;\n\n    if (this.prevIndex > this.selectedItem && !this.isPopup) {\n      var openEff = this.animation.previous.effect;\n      animateObj = {\n        name: openEff === 'None' ? '' : openEff !== 'SlideLeftIn' ? openEff : 'SlideLeftIn',\n        duration: this.animation.previous.duration,\n        timingFunction: this.animation.previous.easing\n      };\n    } else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n      var clsEff = this.animation.next.effect;\n      animateObj = {\n        name: clsEff === 'None' ? '' : clsEff !== 'SlideRightIn' ? clsEff : 'SlideRightIn',\n        duration: this.animation.next.duration,\n        timingFunction: this.animation.next.easing\n      };\n    }\n\n    animateObj.progress = function () {\n      cnt.classList.add(CLS_PROGRESS);\n\n      _this.setActiveBorder();\n    };\n\n    animateObj.end = function () {\n      cnt.classList.remove(CLS_PROGRESS);\n      newCnt.classList.add(CLS_ACTIVE);\n    };\n\n    if (!this.initRender && !isNOU(oldCnt)) {\n      this.triggerPrevAnimation(oldCnt, prevIndex);\n    }\n\n    this.isPopup = false;\n\n    if (animateObj.name === '') {\n      newCnt.classList.add(CLS_ACTIVE);\n    } else {\n      new Animation(animateObj).animate(newCnt);\n    }\n  };\n\n  Tab.prototype.keyPressed = function (trg) {\n    var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n    var trgIndex = this.getEleIndex(trgParent);\n\n    if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n      this.popEle.classList.contains(CLS_POPUP_OPEN) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n    } else if (trg.classList.contains('e-scroll-nav')) {\n      trg.click();\n    } else {\n      if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n        this.select(trgIndex);\n\n        if (!isNOU(this.popEle)) {\n          this.popObj.hide(this.hide);\n        }\n      }\n    }\n  };\n\n  Tab.prototype.getTabHeader = function () {\n    var headers = [].slice.call(this.element.children).filter(function (e) {\n      return e.classList.contains(CLS_HEADER);\n    });\n\n    if (headers.length > 0) {\n      return headers[0];\n    } else {\n      var wrap = [].slice.call(this.element.children).filter(function (e) {\n        return !e.classList.contains(CLS_BLA_TEM);\n      })[0];\n\n      if (!wrap) {\n        return undefined;\n      }\n\n      return [].slice.call(wrap.children).filter(function (e) {\n        return e.classList.contains(CLS_HEADER);\n      })[0];\n    }\n  };\n\n  Tab.prototype.getEleIndex = function (item) {\n    return Array.prototype.indexOf.call(selectAll('.' + CLS_TB_ITEM, this.getTabHeader()), item);\n  };\n\n  Tab.prototype.extIndex = function (id) {\n    return id.replace(CLS_ITEM + this.tabId + '_', '');\n  };\n\n  Tab.prototype.expTemplateContent = function () {\n    var _this = this;\n\n    this.templateEle.forEach(function (eleStr) {\n      if (!isNOU(_this.element.querySelector(eleStr))) {\n        document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n      }\n    });\n  };\n\n  Tab.prototype.templateCompile = function (ele, cnt, index) {\n    var tempEle = this.createElement('div');\n    this.compileElement(tempEle, cnt, 'content', index);\n\n    if (tempEle.childNodes.length !== 0) {\n      ele.appendChild(tempEle);\n    }\n  };\n\n  Tab.prototype.compileElement = function (ele, val, prop, index) {\n    var templateFn;\n\n    if (typeof val === 'string' && isBlazor() && val.indexOf('<div>Blazor') !== 0) {\n      val = val.trim();\n      ele.innerHTML = SanitizeHtmlHelper.sanitize(val);\n    } else {\n      templateFn = compile(val);\n    }\n\n    var templateFUN;\n\n    if (!isNOU(templateFn)) {\n      if (isBlazor() && !this.isStringTemplate && val.indexOf('<div>Blazor') === 0) {\n        templateFUN = templateFn({}, this, prop, this.element.id + index + '_' + prop, this.isStringTemplate);\n      } else {\n        templateFUN = templateFn({}, this, prop);\n      }\n    }\n\n    if (!isNOU(templateFn) && templateFUN.length > 0) {\n      [].slice.call(templateFUN).forEach(function (el) {\n        ele.appendChild(el);\n      });\n    }\n  };\n\n  Tab.prototype.headerTextCompile = function (element, text, index) {\n    this.compileElement(element, text, 'headerTemplate', index);\n  };\n\n  Tab.prototype.getContent = function (ele, cnt, callType, index) {\n    var eleStr;\n\n    if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n      if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n        cnt = SanitizeHtmlHelper.sanitize(cnt);\n      }\n\n      if (cnt[0] === '.' || cnt[0] === '#') {\n        if (document.querySelectorAll(cnt).length) {\n          var eleVal = document.querySelector(cnt);\n          eleStr = eleVal.outerHTML.trim();\n\n          if (callType === 'clone') {\n            ele.appendChild(eleVal.cloneNode(true));\n          } else {\n            ele.appendChild(eleVal);\n            eleVal.style.display = '';\n          }\n        } else {\n          this.templateCompile(ele, cnt, index);\n        }\n      } else {\n        this.templateCompile(ele, cnt, index);\n      }\n    } else {\n      ele.appendChild(cnt);\n    }\n\n    if (!isNOU(eleStr)) {\n      if (this.templateEle.indexOf(cnt.toString()) === -1) {\n        this.templateEle.push(cnt.toString());\n      }\n    }\n  };\n\n  Tab.prototype.getTrgContent = function (cntEle, no) {\n    var ele;\n\n    if (this.element.classList.contains(CLS_NEST)) {\n      ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + this.tabId + '_' + no, this.element);\n    } else {\n      ele = this.findEle(cntEle.children, CLS_CONTENT + this.tabId + '_' + no);\n    }\n\n    return ele;\n  };\n\n  Tab.prototype.findEle = function (items, key) {\n    var ele;\n\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].id === key) {\n        ele = items[i];\n        break;\n      }\n    }\n\n    return ele;\n  };\n\n  Tab.prototype.isVertical = function () {\n    var isVertical = this.headerPlacement === 'Left' || this.headerPlacement === 'Right' ? true : false;\n    this.scrCntClass = isVertical ? CLS_VSCRCNT : CLS_HSCRCNT;\n    return isVertical;\n  };\n\n  Tab.prototype.addVerticalClass = function () {\n    if (this.isVertical()) {\n      var tbPos = this.headerPlacement === 'Left' ? CLS_VLEFT : CLS_VRIGHT;\n      addClass([this.hdrEle], [CLS_VERTICAL, tbPos]);\n\n      if (!this.element.classList.contains(CLS_NEST)) {\n        addClass([this.element], [CLS_VTAB, tbPos]);\n      } else {\n        addClass([this.hdrEle], [CLS_VTAB, tbPos]);\n      }\n    }\n\n    if (this.headerPlacement === 'Bottom') {\n      addClass([this.hdrEle], [CLS_HBOTTOM]);\n    }\n  };\n\n  Tab.prototype.updatePopAnimationConfig = function () {\n    this.show = {\n      name: this.isVertical() ? 'FadeIn' : 'SlideDown',\n      duration: 100\n    };\n    this.hide = {\n      name: this.isVertical() ? 'FadeOut' : 'SlideUp',\n      duration: 100\n    };\n  };\n\n  Tab.prototype.changeOrientation = function (place) {\n    this.setOrientation(place, this.hdrEle);\n    var isVertical = this.hdrEle.classList.contains(CLS_VERTICAL) ? true : false;\n    removeClass([this.element], [CLS_VTAB]);\n    removeClass([this.hdrEle], [CLS_VERTICAL, CLS_VLEFT, CLS_VRIGHT]);\n\n    if (isVertical !== this.isVertical()) {\n      this.changeToolbarOrientation();\n    }\n\n    this.addVerticalClass();\n    this.updateOrientationAttribute();\n    this.setActiveBorder();\n    this.focusItem();\n  };\n\n  Tab.prototype.focusItem = function () {\n    var curActItem = select(' #' + CLS_ITEM + this.tabId + '_' + this.selectedItem, this.hdrEle);\n\n    if (!isNOU(curActItem)) {\n      curActItem.firstElementChild.focus();\n    }\n  };\n\n  Tab.prototype.serverChangeOrientation = function (newProp, oldProp) {\n    this.setOrientation(newProp, this.hdrEle);\n    removeClass([this.element], [CLS_VTAB]);\n    var newValue = newProp === 'Left' || newProp === 'Right';\n    var oldValue = oldProp === 'Left' || oldProp === 'Right';\n\n    if (newValue !== oldValue) {\n      this.changeToolbarOrientation();\n    }\n\n    if (this.isVertical()) {\n      addClass([this.element], [CLS_VTAB]);\n    }\n\n    this.updateOrientationAttribute();\n    this.setActiveBorder();\n    this.focusItem();\n  };\n\n  Tab.prototype.changeToolbarOrientation = function () {\n    this.tbObj.setProperties({\n      height: this.isVertical() ? '100%' : 'auto',\n      width: this.isVertical() ? 'auto' : '100%'\n    }, true);\n    this.tbObj.changeOrientation();\n    this.updatePopAnimationConfig();\n  };\n\n  Tab.prototype.setOrientation = function (place, ele) {\n    var headerPos = Array.prototype.indexOf.call(this.element.children, ele);\n    var contentPos = Array.prototype.indexOf.call(this.element.children, this.element.querySelector('.' + CLS_CONTENT));\n\n    if (place === 'Bottom' && contentPos > headerPos) {\n      this.element.appendChild(ele);\n    } else {\n      removeClass([ele], [CLS_HBOTTOM]);\n      this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n    }\n  };\n\n  Tab.prototype.setCssClass = function (ele, cls, val) {\n    if (cls === '') {\n      return;\n    }\n\n    var list = cls.split(' ');\n\n    for (var i = 0; i < list.length; i++) {\n      if (val) {\n        ele.classList.add(list[i]);\n      } else {\n        ele.classList.remove(list[i]);\n      }\n    }\n  };\n\n  Tab.prototype.setContentHeight = function (val) {\n    if (this.element.classList.contains(CLS_FILL)) {\n      removeClass([this.element], [CLS_FILL]);\n    }\n\n    if (isNOU(this.cntEle)) {\n      return;\n    }\n\n    var hdrEle = this.getTabHeader();\n\n    if (this.heightAdjustMode === 'None') {\n      if (this.height === 'auto') {\n        return;\n      } else {\n        if (!this.isVertical()) {\n          setStyle(this.cntEle, {\n            'height': this.element.offsetHeight - hdrEle.offsetHeight + 'px'\n          });\n        }\n      }\n    } else if (this.heightAdjustMode === 'Fill') {\n      addClass([this.element], [CLS_FILL]);\n      setStyle(this.element, {\n        'height': '100%'\n      });\n      setStyle(this.cntEle, {\n        'height': '100%'\n      });\n    } else if (this.heightAdjustMode === 'Auto') {\n      if (this.isTemplate === true) {\n        var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n\n        for (var i = 0; i < cnt.length; i++) {\n          cnt[i].setAttribute('style', 'display:block; visibility: visible');\n          this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n          cnt[i].style.removeProperty('display');\n          cnt[i].style.removeProperty('visibility');\n        }\n      } else {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n\n        if (val === true) {\n          this.cntEle.appendChild(this.createElement('div', {\n            id: CLS_CONTENT + this.tabId + '_' + 0,\n            className: CLS_ITEM + ' ' + CLS_ACTIVE,\n            attrs: {\n              'role': 'tabpanel',\n              'aria-labelledby': CLS_ITEM + this.tabId + '_' + 0\n            }\n          }));\n        }\n\n        var ele = this.cntEle.children.item(0);\n\n        for (var i = 0; i < this.items.length; i++) {\n          this.getContent(ele, this.items[i].content, 'clone', i);\n          this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n\n          while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n          }\n        }\n\n        this.clearTemplate(['content']);\n        this.templateEle = [];\n        this.getContent(ele, this.items[0].content, 'render', 0);\n        ele.classList.remove(CLS_ACTIVE);\n      }\n\n      setStyle(this.cntEle, {\n        'height': this.maxHeight + 'px'\n      });\n    } else {\n      setStyle(this.cntEle, {\n        'height': 'auto'\n      });\n    }\n  };\n\n  Tab.prototype.getHeight = function (ele) {\n    var cs = window.getComputedStyle(ele);\n    return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) + parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n  };\n\n  Tab.prototype.setActiveBorder = function () {\n    var bar;\n    var scrollCnt;\n    var trgHdrEle = this.getTabHeader();\n    var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, trgHdrEle);\n\n    if (trg === null) {\n      return;\n    }\n\n    if (this.isServerRendered && trg.classList.contains(CLS_TB_POPUP)) {\n      this.popupHandler(trg);\n    }\n\n    var root = closest(trg, '.' + CLS_TAB);\n\n    if (this.element !== root) {\n      return;\n    }\n\n    this.tbItems = select('.' + CLS_TB_ITEMS, trgHdrEle);\n    bar = select('.' + CLS_INDICATOR, trgHdrEle);\n    scrollCnt = select('.' + CLS_TB_ITEMS + ' .' + this.scrCntClass, trgHdrEle);\n\n    if (this.isVertical()) {\n      setStyle(bar, {\n        'left': '',\n        'right': ''\n      });\n      var tbHeight = isNOU(scrollCnt) ? this.tbItems.offsetHeight : scrollCnt.offsetHeight;\n\n      if (tbHeight !== 0) {\n        setStyle(bar, {\n          'top': trg.offsetTop + 'px',\n          'height': trg.offsetHeight + 'px'\n        });\n      } else {\n        setStyle(bar, {\n          'top': 0,\n          'height': 0\n        });\n      }\n    } else {\n      setStyle(bar, {\n        'top': '',\n        'height': ''\n      });\n      var tbWidth = isNOU(scrollCnt) ? this.tbItems.offsetWidth : scrollCnt.offsetWidth;\n\n      if (tbWidth !== 0) {\n        setStyle(bar, {\n          'left': trg.offsetLeft + 'px',\n          'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px'\n        });\n      } else {\n        setStyle(bar, {\n          'left': 'auto',\n          'right': 'auto'\n        });\n      }\n    }\n\n    if (!isNOU(this.bdrLine)) {\n      this.bdrLine.classList.remove(CLS_HIDDEN);\n    }\n  };\n\n  Tab.prototype.setActive = function (value, skipDataBind) {\n    if (skipDataBind === void 0) {\n      skipDataBind = false;\n    }\n\n    this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n    var trg = this.tbItem[value];\n\n    if (this.isServerRendered && trg) {\n      value = parseInt(trg.getAttribute('data-index'), 10);\n    }\n\n    if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n      return;\n    }\n\n    if (value >= 0 && !skipDataBind) {\n      this.allowServerDataBinding = false;\n      this.setProperties({\n        selectedItem: value\n      }, true);\n      this.allowServerDataBinding = true;\n\n      if (!this.initRender) {\n        this.serverDataBind();\n      }\n    }\n\n    if (trg.classList.contains(CLS_ACTIVE)) {\n      this.setActiveBorder();\n      return;\n    }\n\n    if (!this.isTemplate) {\n      var prev = this.tbItem[this.prevIndex];\n\n      if (!isNOU(prev)) {\n        prev.removeAttribute('aria-controls');\n      }\n\n      attributes(trg, {\n        'aria-controls': CLS_CONTENT + this.tabId + '_' + value\n      });\n    }\n\n    var id = trg.id;\n    this.removeActiveClass();\n    trg.classList.add(CLS_ACTIVE);\n    trg.setAttribute('aria-selected', 'true');\n    var no = Number(this.extIndex(id));\n\n    if (isNOU(this.prevActiveEle)) {\n      this.prevActiveEle = CLS_CONTENT + this.tabId + '_' + no;\n    }\n\n    attributes(this.element, {\n      'aria-activedescendant': id\n    });\n\n    if (this.isTemplate) {\n      if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n        var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + this.tabId + '_' + no);\n\n        if (!isNOU(trg_1)) {\n          trg_1.classList.add(CLS_ACTIVE);\n        }\n\n        this.triggerAnimation(id, this.enableAnimation);\n      }\n    } else if (!this.isServerRendered || this.isServerRendered && this.loadOn === 'Init') {\n      this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n      var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n\n      if (isNOU(item)) {\n        this.cntEle.appendChild(this.createElement('div', {\n          id: CLS_CONTENT + this.tabId + '_' + this.extIndex(id),\n          className: CLS_ITEM + ' ' + CLS_ACTIVE,\n          attrs: {\n            role: 'tabpanel',\n            'aria-labelledby': CLS_ITEM + this.tabId + '_' + this.extIndex(id)\n          }\n        }));\n        var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n        var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, id);\n        this.getContent(eleTrg, this.items[itemIndex].content, 'render', itemIndex);\n      } else {\n        item.classList.add(CLS_ACTIVE);\n      }\n\n      this.triggerAnimation(id, this.enableAnimation);\n    }\n\n    this.setActiveBorder();\n    this.refreshItemVisibility(trg);\n\n    if (!this.initRender && !skipDataBind) {\n      trg.firstElementChild.focus();\n      var eventArg = {\n        previousItem: this.prevItem,\n        previousIndex: this.prevIndex,\n        selectedItem: trg,\n        selectedIndex: value,\n        selectedContent: select('#' + CLS_CONTENT + this.tabId + '_' + this.selectingID, this.content),\n        isSwiped: this.isSwipeed\n      };\n      this.trigger('selected', eventArg);\n    }\n  };\n\n  Tab.prototype.contentReady = function () {\n    var id = this.setActiveContent();\n    this.triggerAnimation(id, this.enableAnimation);\n  };\n\n  Tab.prototype.setItems = function (items) {\n    this.isReplace = true;\n    this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n    this.tbObj.items = this.parseObject(items, 0);\n    this.tbObj.dataBind();\n    this.isReplace = false;\n  };\n\n  Tab.prototype.setRTL = function (value) {\n    this.tbObj.enableRtl = value;\n    this.tbObj.dataBind();\n    this.setCssClass(this.element, CLS_RTL, value);\n    this.refreshActiveBorder();\n  };\n\n  Tab.prototype.refreshActiveBorder = function () {\n    if (!isNOU(this.bdrLine)) {\n      this.bdrLine.classList.add(CLS_HIDDEN);\n    }\n\n    this.setActiveBorder();\n  };\n\n  Tab.prototype.showPopup = function (config) {\n    var tbPop = select('.e-popup.e-toolbar-pop', this.hdrEle);\n\n    if (tbPop.classList.contains('e-popup-close')) {\n      var tbPopObj = tbPop && tbPop.ej2_instances[0];\n      tbPopObj.position.X = this.headerPlacement === 'Left' ? 'left' : 'right';\n      tbPopObj.dataBind();\n      tbPopObj.show(config);\n    }\n  };\n\n  Tab.prototype.wireEvents = function () {\n    window.addEventListener('resize', this.resizeContext);\n    EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n    EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n\n    if (!isNOU(this.cntEle)) {\n      this.touchModule = new Touch(this.cntEle, {\n        swipe: this.swipeHandler.bind(this)\n      });\n    }\n\n    this.keyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: this.keyConfigs\n    });\n    this.tabKeyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: {\n        openPopup: 'shift+f10',\n        tab: 'tab',\n        shiftTab: 'shift+tab'\n      },\n      eventName: 'keydown'\n    });\n  };\n\n  Tab.prototype.unWireEvents = function () {\n    this.keyModule.destroy();\n    this.tabKeyModule.destroy();\n\n    if (!isNOU(this.cntEle)) {\n      this.touchModule.destroy();\n    }\n\n    window.removeEventListener('resize', this.resizeContext);\n    EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n    EventHandler.remove(this.element, 'keydown', this.spaceKeyDown);\n    this.element.classList.remove(CLS_RTL);\n    this.element.classList.remove(CLS_FOCUS);\n  };\n\n  Tab.prototype.clickHandler = function (args) {\n    this.element.classList.remove(CLS_FOCUS);\n    var trg = args.originalEvent.target;\n    var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n    var trgIndex = this.getEleIndex(trgParent);\n\n    if (trg.classList.contains(CLS_ICON_CLOSE)) {\n      this.removeTab(trgIndex);\n    } else if (this.isVertical() && closest(trg, '.' + CLS_HOR_NAV)) {\n      this.showPopup(this.show);\n    } else {\n      this.isPopup = false;\n\n      if (this.isServerRendered && !isNOU(trgParent)) {\n        if (parseInt(trgParent.getAttribute('data-index'), 10) !== this.selectedItem) {\n          this.select(trgIndex);\n        }\n      } else if (!isNOU(trgParent) && (trgIndex !== this.selectedItem || trgIndex !== this.prevIndex)) {\n        this.select(trgIndex);\n      }\n    }\n  };\n\n  Tab.prototype.swipeHandler = function (e) {\n    if (e.velocity < 3 && isNOU(e.originalEvent.changedTouches)) {\n      return;\n    }\n\n    if (e.originalEvent) {\n      e.originalEvent.stopPropagation();\n    }\n\n    this.isSwipeed = true;\n\n    if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n      for (var k = this.selectedItem - 1; k >= 0; k--) {\n        if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n          this.select(k);\n          break;\n        }\n      }\n    } else if (e.swipeDirection === 'Left' && this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1) {\n      for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n        if (!this.tbItem[i].classList.contains(CLS_HIDDEN)) {\n          this.select(i);\n          break;\n        }\n      }\n    }\n\n    this.isSwipeed = false;\n  };\n\n  Tab.prototype.spaceKeyDown = function (e) {\n    if (e.keyCode === 32 && e.which === 32 || e.keyCode === 35 && e.which === 35) {\n      var clstHead = closest(e.target, '.' + CLS_HEADER);\n\n      if (!isNOU(clstHead)) {\n        e.preventDefault();\n      }\n    }\n  };\n\n  Tab.prototype.keyHandler = function (e) {\n    if (this.element.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n\n    this.element.classList.add(CLS_FOCUS);\n    var trg = e.target;\n    var tabHeader = this.getTabHeader();\n    var actEle = select('.' + CLS_ACTIVE, tabHeader);\n    this.popEle = select('.' + CLS_TB_POP, tabHeader);\n\n    if (!isNOU(this.popEle)) {\n      this.popObj = this.popEle.ej2_instances[0];\n    }\n\n    switch (e.action) {\n      case 'space':\n      case 'enter':\n        if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n          return;\n        }\n\n        if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n          this.showPopup(this.show);\n          break;\n        }\n\n        this.keyPressed(trg);\n        break;\n\n      case 'tab':\n      case 'shiftTab':\n        if (trg.classList.contains(CLS_WRAP) && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n          trg.setAttribute('tabindex', '-1');\n        }\n\n        if (this.popObj && isVisible(this.popObj.element)) {\n          this.popObj.hide(this.hide);\n        }\n\n        actEle.children.item(0).setAttribute('tabindex', '0');\n        break;\n\n      case 'moveLeft':\n      case 'moveRight':\n        var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n\n        if (!isNOU(item)) {\n          this.refreshItemVisibility(item);\n        }\n\n        break;\n\n      case 'openPopup':\n        e.preventDefault();\n\n        if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n          this.popObj.show(this.show);\n        }\n\n        break;\n\n      case 'delete':\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n\n        if (this.showCloseButton === true && !isNOU(trgParent)) {\n          var nxtSib = trgParent.nextSibling;\n\n          if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n            nxtSib.firstElementChild.focus();\n          }\n\n          this.removeTab(this.getEleIndex(trgParent));\n        }\n\n        this.setActiveBorder();\n        break;\n    }\n  };\n\n  Tab.prototype.refreshActElePosition = function () {\n    var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n\n    if (!isNOU(activeEle)) {\n      this.select(this.getEleIndex(activeEle));\n    }\n\n    this.refreshActiveBorder();\n  };\n\n  Tab.prototype.refreshItemVisibility = function (target) {\n    var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n\n    if (!this.isVertical() && !isNOU(scrCnt)) {\n      var scrBar = select('.e-hscroll-bar', this.tbItems);\n      var scrStart = scrBar.scrollLeft;\n      var scrEnd = scrStart + scrBar.offsetWidth;\n      var eleStart = target.offsetLeft;\n      var eleWidth = target.offsetWidth;\n      var eleEnd = target.offsetLeft + target.offsetWidth;\n\n      if (scrStart < eleStart && scrEnd < eleEnd) {\n        var eleViewRange = scrEnd - eleStart;\n        scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n      } else {\n        if (scrStart > eleStart && scrEnd > eleEnd) {\n          var eleViewRange = eleEnd - scrStart;\n          scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n        }\n      }\n    } else {\n      return;\n    }\n  };\n\n  Tab.prototype.hoverHandler = function (e) {\n    var trg = e.target;\n\n    if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n      trg.setAttribute('title', new L10n('tab', {\n        closeButtonTitle: this.title\n      }, this.locale).getConstant('closeButtonTitle'));\n    }\n  };\n\n  Tab.prototype.evalOnPropertyChangeItems = function (newProp, oldProp) {\n    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n      var changedProp = Object.keys(newProp.items);\n\n      for (var i = 0; i < changedProp.length; i++) {\n        var index = parseInt(Object.keys(newProp.items)[i], 10);\n        var property = Object.keys(newProp.items[index])[0];\n        var oldVal = Object(oldProp.items[index])[property];\n        var newVal = Object(newProp.items[index])[property];\n        var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + this.tabId + '_' + index, this.element);\n        var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + this.tabId + '_' + index, this.element);\n\n        if (property === 'header' || property === 'headerTemplate') {\n          var icon = isNOU(this.items[index].header) || isNOU(this.items[index].header.iconCss) ? '' : this.items[index].header.iconCss;\n          var textVal = this.items[index].headerTemplate || this.items[index].header.text;\n\n          if (textVal === '' && icon === '') {\n            this.removeTab(index);\n          } else {\n            var arr = [];\n            arr.push(this.items[index]);\n            this.items.splice(index, 1);\n            this.itemIndexArray.splice(index, 1);\n            this.tbObj.items.splice(index, 1);\n            var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN);\n            detach(hdrItem);\n            this.isReplace = true;\n            this.addTab(arr, index);\n\n            if (isHiddenEle) {\n              this.hideTab(index);\n            }\n\n            this.isReplace = false;\n          }\n        }\n\n        if (property === 'content' && !isNOU(cntItem)) {\n          var strVal = typeof newVal === 'string' || isNOU(newVal.innerHTML);\n\n          if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n            var eleVal = document.querySelector(newVal);\n            cntItem.appendChild(eleVal);\n            eleVal.style.display = '';\n          } else if (newVal === '' && oldVal[0] === '#') {\n            document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n            cntItem.innerHTML = newVal;\n          } else {\n            cntItem.innerHTML = newVal;\n          }\n        }\n\n        if (property === 'cssClass') {\n          if (!isNOU(hdrItem)) {\n            hdrItem.classList.remove(oldVal);\n            hdrItem.classList.add(newVal);\n          }\n\n          if (!isNOU(cntItem)) {\n            cntItem.classList.remove(oldVal);\n            cntItem.classList.add(newVal);\n          }\n        }\n\n        if (property === 'disabled') {\n          this.enableTab(index, newVal === true ? false : true);\n        }\n\n        if (property === 'visible') {\n          this.hideTab(index, newVal === true ? false : true);\n        }\n      }\n    } else {\n      this.lastIndex = 0;\n\n      if (isNOU(this.tbObj)) {\n        this.reRenderItems();\n      } else {\n        this.setItems(newProp.items);\n\n        if (this.templateEle.length > 0) {\n          this.expTemplateContent();\n        }\n\n        this.templateEle = [];\n        var selectElement = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n\n        while (selectElement.firstElementChild && !isBlazor()) {\n          detach(selectElement.firstElementChild);\n        }\n\n        this.select(this.selectedItem);\n      }\n    }\n  };\n  /**\n   * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n   * @param  {number} index - Index value of target Tab item.\n   * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n   * By default, isEnable is true.\n   * @returns void.\n   */\n\n\n  Tab.prototype.enableTab = function (index, value) {\n    var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n    if (isNOU(tbItems)) {\n      return;\n    }\n\n    if (value === true) {\n      tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n      tbItems.firstElementChild.setAttribute('tabindex', '-1');\n    } else {\n      tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n      tbItems.firstElementChild.removeAttribute('tabindex');\n\n      if (tbItems.classList.contains(CLS_ACTIVE)) {\n        this.select(index + 1);\n      }\n    }\n\n    if (!isNOU(this.items[index])) {\n      this.items[index].disabled = !value;\n      this.dataBind();\n    }\n\n    tbItems.setAttribute('aria-disabled', value === true ? 'false' : 'true');\n  };\n  /**\n   * Adds new items to the Tab that accepts an array as Tab items.\n   * @param  {TabItemsModel[]} items - An array of item that is added to the Tab.\n   * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n   * @returns void.\n    */\n\n\n  Tab.prototype.addTab = function (items, index) {\n    var _this = this;\n\n    var addArgs = {\n      addedItems: items,\n      cancel: false\n    };\n\n    if (!this.isReplace) {\n      this.trigger('adding', addArgs, function (tabAddingArgs) {\n        if (!tabAddingArgs.cancel) {\n          _this.addingTabContent(items, index);\n        }\n      });\n    } else {\n      this.addingTabContent(items, index);\n    }\n  };\n\n  Tab.prototype.addingTabContent = function (items, index) {\n    var _this = this;\n\n    var lastEleIndex = 0;\n    this.hdrEle = select('.' + CLS_HEADER, this.element);\n\n    if (isNOU(this.hdrEle)) {\n      this.items = items;\n      this.reRenderItems();\n    } else {\n      var itemsCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n\n      if (itemsCount !== 0) {\n        lastEleIndex = this.lastIndex + 1;\n      }\n\n      if (isNOU(index)) {\n        index = itemsCount - 1;\n      }\n\n      if (itemsCount < index || index < 0 || isNaN(index)) {\n        return;\n      }\n\n      if (itemsCount === 0 && !isNOU(this.hdrEle)) {\n        this.hdrEle.style.display = '';\n      }\n\n      if (!isNOU(this.bdrLine)) {\n        this.bdrLine.classList.add(CLS_HIDDEN);\n      }\n\n      this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n      this.isAdd = true;\n      var tabItems = this.parseObject(items, index);\n      this.isAdd = false;\n      var i_1 = 0;\n      var textValue_1;\n      items.forEach(function (item, place) {\n        textValue_1 = item.headerTemplate || item.header.text;\n\n        if (!(isNOU(item.headerTemplate || item.header) || isNOU(textValue_1) || textValue_1.length === 0 && isNOU(item.header.iconCss))) {\n          _this.items.splice(index + i_1, 0, item);\n\n          i_1++;\n        }\n\n        if (_this.isTemplate && !isNOU(item.header) && !isNOU(item.header.text)) {\n          var no = lastEleIndex + place;\n\n          var ele = _this.createElement('div', {\n            id: CLS_CONTENT + _this.tabId + '_' + no,\n            className: CLS_ITEM,\n            attrs: {\n              role: 'tabpanel',\n              'aria-labelledby': CLS_ITEM + '_' + no\n            }\n          });\n\n          _this.cntEle.insertBefore(ele, _this.cntEle.children[index + place]);\n\n          var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n\n          _this.getContent(eleTrg, item.content, 'render', index);\n        }\n      });\n      this.tbObj.addItems(tabItems, index);\n\n      if (!this.isReplace) {\n        this.trigger('added', {\n          addedItems: items\n        });\n      }\n\n      if (this.selectedItem === index) {\n        this.select(index);\n      } else {\n        this.setActiveBorder();\n      }\n    }\n  };\n  /**\n   * Removes the items in the Tab from the specified index.\n   * @param  {number} index - Index of target item that is going to be removed.\n   * @returns void.\n    */\n\n\n  Tab.prototype.removeTab = function (index) {\n    var _this = this;\n\n    var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n    if (isNOU(trg)) {\n      return;\n    }\n\n    var removeArgs = {\n      removedItem: trg,\n      removedIndex: index,\n      cancel: false\n    };\n    this.trigger('removing', removeArgs, function (tabRemovingArgs) {\n      if (!tabRemovingArgs.cancel) {\n        if (isBlazor() && _this.isServerRendered) {\n          // tslint:disable-next-line:no-any\n          _this.interopAdaptor.invokeMethodAsync('OnRemoveItem', index);\n\n          return;\n        }\n\n        _this.tbObj.removeItems(index);\n\n        _this.items.splice(index, 1);\n\n        _this.itemIndexArray.splice(index, 1);\n\n        _this.refreshActiveBorder();\n\n        var cntTrg = select('#' + CLS_CONTENT + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_CONTENT, _this.element));\n\n        if (!isNOU(cntTrg)) {\n          detach(cntTrg);\n        }\n\n        _this.trigger('removed', tabRemovingArgs);\n\n        if (trg.classList.contains(CLS_ACTIVE)) {\n          // tslint:disable-next-line:max-line-length\n          index = index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', _this.element).length - 1 ? index - 1 : index;\n          _this.enableAnimation = false;\n          _this.selectedItem = index;\n\n          _this.select(index);\n        }\n\n        if (selectAll('.' + CLS_TB_ITEM, _this.element).length === 0) {\n          _this.hdrEle.style.display = 'none';\n        }\n\n        _this.enableAnimation = true;\n      }\n    });\n  };\n  /**\n   * Shows or hides the Tab that is in the specified index.\n   * @param  {number} index - Index value of target item.\n   * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n   * @returns void.\n   */\n\n\n  Tab.prototype.hideTab = function (index, value) {\n    var items;\n    var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n    if (isNOU(item)) {\n      return;\n    }\n\n    if (isNOU(value)) {\n      value = true;\n    }\n\n    this.bdrLine.classList.add(CLS_HIDDEN);\n\n    if (value === true) {\n      item.classList.add(CLS_HIDDEN);\n      items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n\n      if (items.length !== 0 && item.classList.contains(CLS_ACTIVE)) {\n        if (index !== 0) {\n          for (var i = index - 1; i >= 0; i--) {\n            if (!this.tbItem[i].classList.contains(CLS_HIDDEN)) {\n              this.select(i);\n              break;\n            } else if (i === 0) {\n              for (var k = index + 1; k < this.tbItem.length; k++) {\n                if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n                  this.select(k);\n                  break;\n                }\n              }\n            }\n          }\n        } else {\n          for (var k = index + 1; k < this.tbItem.length; k++) {\n            if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n              this.select(k);\n              break;\n            }\n          }\n        }\n      } else if (items.length === 0) {\n        this.element.classList.add(CLS_HIDDEN);\n      }\n    } else {\n      this.element.classList.remove(CLS_HIDDEN);\n      items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n      item.classList.remove(CLS_HIDDEN);\n\n      if (items.length === 0) {\n        this.select(index);\n      }\n    }\n\n    this.setActiveBorder();\n    item.setAttribute('aria-hidden', '' + value);\n\n    if (!this.isServerRendered && this.overflowMode === 'Popup' && this.tbObj) {\n      this.tbObj.refreshOverflow();\n    }\n  };\n  /**\n   * Specifies the index or HTMLElement to select an item from the Tab.\n   * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n   * @returns void.\n   */\n\n\n  Tab.prototype.select = function (args) {\n    var _this = this;\n\n    var tabHeader = this.getTabHeader();\n    this.tbItems = select('.' + CLS_TB_ITEMS, tabHeader);\n    this.tbItem = selectAll('.' + CLS_TB_ITEM, tabHeader);\n    this.content = select('.' + CLS_CONTENT, this.element);\n    this.prevItem = this.tbItem[this.prevIndex];\n\n    if (isNOU(this.selectedItem) || this.selectedItem < 0 || this.tbItem.length <= this.selectedItem || isNaN(this.selectedItem)) {\n      this.selectedItem = 0;\n    } else {\n      this.selectedID = this.extIndex(this.tbItem[this.selectedItem].id);\n    }\n\n    var trg = this.tbItem[args];\n\n    if (isNOU(trg)) {\n      this.selectedID = '0';\n    } else {\n      this.selectingID = this.extIndex(trg.id);\n    }\n\n    if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n      this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n    }\n\n    var eventArg = {\n      previousItem: this.prevItem,\n      previousIndex: this.prevIndex,\n      selectedItem: this.tbItem[this.selectedItem],\n      selectedIndex: this.selectedItem,\n      selectedContent: !isNOU(this.content) ? select('#' + CLS_CONTENT + this.tabId + '_' + this.selectedID, this.content) : null,\n      selectingItem: trg,\n      selectingIndex: args,\n      selectingContent: !isNOU(this.content) ? select('#' + CLS_CONTENT + this.tabId + '_' + this.selectingID, this.content) : null,\n      isSwiped: this.isSwipeed,\n      cancel: false\n    };\n\n    if (!this.initRender) {\n      this.trigger('selecting', eventArg, function (selectArgs) {\n        if (!selectArgs.cancel) {\n          _this.selectingContent(args);\n        }\n      });\n    } else {\n      this.selectingContent(args);\n    }\n  };\n\n  Tab.prototype.selectingContent = function (args) {\n    if (typeof args === 'number') {\n      if (!isNOU(this.tbItem[args]) && (this.tbItem[args].classList.contains(CLS_DISABLE) || this.tbItem[args].classList.contains(CLS_HIDDEN))) {\n        for (var i = args + 1; i < this.items.length; i++) {\n          if (this.items[i].disabled === false && this.items[i].visible === true) {\n            args = i;\n            break;\n          } else {\n            args = 0;\n          }\n        }\n      }\n\n      if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n        this.prevIndex = this.selectedItem;\n\n        if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n          this.setActive(this.popupHandler(this.tbItem[args]));\n        } else {\n          this.setActive(args);\n        }\n      } else {\n        this.setActive(0);\n      }\n    } else if (args instanceof HTMLElement) {\n      this.setActive(this.getEleIndex(args));\n    }\n  };\n  /**\n   * Specifies the value to disable/enable the Tab component.\n   * When set to `true`, the component will be disabled.\n   * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n   * @returns void.\n   */\n\n\n  Tab.prototype.disable = function (value) {\n    this.setCssClass(this.element, CLS_DISABLE, value);\n    this.element.setAttribute('aria-disabled', '' + value);\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   * @returns string\n   */\n\n\n  Tab.prototype.getPersistData = function () {\n    return this.addOnPersist(['selectedItem', 'actEleId']);\n  };\n  /**\n   * Returns the current module name.\n   * @returns string\n   * @private\n   */\n\n\n  Tab.prototype.getModuleName = function () {\n    return 'tab';\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   * @param  {TabModel} newProp\n   * @param  {TabModel} oldProp\n   * @returns void\n   * @private\n   */\n\n\n  Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'width':\n          setStyle(this.element, {\n            width: formatUnit(newProp.width)\n          });\n          break;\n\n        case 'height':\n          setStyle(this.element, {\n            height: formatUnit(newProp.height)\n          });\n\n          if (!this.isServerRendered) {\n            this.setContentHeight(false);\n          }\n\n          break;\n\n        case 'cssClass':\n          if (oldProp.cssClass !== '') {\n            this.setCssClass(this.element, oldProp.cssClass, false);\n            this.setCssClass(this.element, newProp.cssClass, true);\n          } else {\n            this.setCssClass(this.element, newProp.cssClass, true);\n          }\n\n          break;\n\n        case 'items':\n          if (!this.isServerRendered) {\n            this.evalOnPropertyChangeItems(newProp, oldProp);\n          }\n\n          break;\n\n        case 'showCloseButton':\n          this.setCloseButton(newProp.showCloseButton);\n          break;\n\n        case 'selectedItem':\n          if (!this.isServerRendered) {\n            this.selectedItem = oldProp.selectedItem;\n            this.select(newProp.selectedItem);\n          }\n\n          break;\n\n        case 'headerPlacement':\n          if (this.isServerRendered) {\n            this.serverChangeOrientation(newProp.headerPlacement, oldProp.headerPlacement);\n          } else {\n            this.changeOrientation(newProp.headerPlacement);\n          }\n\n          break;\n\n        case 'enableRtl':\n          this.setRTL(newProp.enableRtl);\n          break;\n\n        case 'overflowMode':\n          this.tbObj.overflowMode = newProp.overflowMode;\n          this.tbObj.dataBind();\n          this.refreshActElePosition();\n          break;\n\n        case 'heightAdjustMode':\n          if (!this.isServerRendered) {\n            this.setContentHeight(false);\n            this.select(this.selectedItem);\n          }\n\n          break;\n\n        case 'scrollStep':\n          if (this.tbObj) {\n            this.tbObj.scrollStep = this.scrollStep;\n          }\n\n          break;\n      }\n    }\n  };\n\n  __decorate([Collection([], TabItem)], Tab.prototype, \"items\", void 0);\n\n  __decorate([Property('100%')], Tab.prototype, \"width\", void 0);\n\n  __decorate([Property('auto')], Tab.prototype, \"height\", void 0);\n\n  __decorate([Property('')], Tab.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(0)], Tab.prototype, \"selectedItem\", void 0);\n\n  __decorate([Property('Top')], Tab.prototype, \"headerPlacement\", void 0);\n\n  __decorate([Property('Content')], Tab.prototype, \"heightAdjustMode\", void 0);\n\n  __decorate([Property('Scrollable')], Tab.prototype, \"overflowMode\", void 0);\n\n  __decorate([Property('Dynamic')], Tab.prototype, \"loadOn\", void 0);\n\n  __decorate([Property(false)], Tab.prototype, \"enablePersistence\", void 0);\n\n  __decorate([Property(false)], Tab.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate([Property(false)], Tab.prototype, \"showCloseButton\", void 0);\n\n  __decorate([Property()], Tab.prototype, \"scrollStep\", void 0);\n\n  __decorate([Complex({}, TabAnimationSettings)], Tab.prototype, \"animation\", void 0);\n\n  __decorate([Event()], Tab.prototype, \"created\", void 0);\n\n  __decorate([Event()], Tab.prototype, \"adding\", void 0);\n\n  __decorate([Event()], Tab.prototype, \"added\", void 0);\n\n  __decorate([Event()], Tab.prototype, \"selecting\", void 0);\n\n  __decorate([Event()], Tab.prototype, \"selected\", void 0);\n\n  __decorate([Event()], Tab.prototype, \"removing\", void 0);\n\n  __decorate([Event()], Tab.prototype, \"removed\", void 0);\n\n  __decorate([Event()], Tab.prototype, \"destroyed\", void 0);\n\n  Tab = __decorate([NotifyPropertyChanges], Tab);\n  return Tab;\n}(Component);\n\nexport { Tab };","map":{"version":3,"sources":["C:/Users/rraval/Desktop/schedule-component-copy/node_modules/@syncfusion/ej2-navigations/src/tab/tab.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","Event","closest","Collection","Complex","attributes","detach","NotifyPropertyChanges","ChildProperty","select","isVisible","KeyboardEvents","Browser","formatUnit","L10n","setStyleAttribute","setStyle","isNullOrUndefined","isNOU","selectAll","addClass","removeClass","remove","EventHandler","rippleEffect","Touch","compile","Animation","isBlazor","getRandomId","SanitizeHtmlHelper","Toolbar","CLS_TAB","CLS_HEADER","CLS_BLA_TEM","CLS_CONTENT","CLS_NEST","CLS_ITEMS","CLS_ITEM","CLS_TEMPLATE","CLS_RTL","CLS_ACTIVE","CLS_DISABLE","CLS_HIDDEN","CLS_FOCUS","CLS_ICONS","CLS_ICON","CLS_ICON_TAB","CLS_ICON_CLOSE","CLS_CLOSE_SHOW","CLS_TEXT","CLS_INDICATOR","CLS_WRAP","CLS_TEXT_WRAP","CLS_TAB_ICON","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POP","CLS_TB_POPUP","CLS_HOR_NAV","CLS_POPUP_OPEN","CLS_POPUP_CLOSE","CLS_PROGRESS","CLS_IGNORE","CLS_OVERLAY","CLS_HSCRCNT","CLS_VSCRCNT","CLS_HORIZONTAL","CLS_VTAB","CLS_VERTICAL","CLS_VLEFT","CLS_VRIGHT","CLS_HBOTTOM","CLS_FILL","TabActionSettings","_super","apply","TabAnimationSettings","effect","duration","easing","Header","TabItem","Tab","options","element","_this","call","show","hide","maxHeight","title","lastIndex","isAdd","isIconAlone","resizeContext","refreshActElePosition","bind","keyConfigs","tab","home","end","enter","space","delete","moveLeft","moveRight","moveUp","moveDown","destroy","tbObj","unWireEvents","forEach","val","removeAttribute","expTemplateContent","isTemplate","firstElementChild","cntEle","classList","innerHTML","cnt","trigger","refresh","isServerRendered","loadOn","setActiveBorder","preRender","nested","prevIndex","isNested","isPopup","initRender","isSwipeed","itemIndexArray","templateEle","parentElement","add","name","info","css","width","height","setCssClass","cssClass","role","updatePopAnimationConfig","render","btnCls","createElement","className","attrs","tabId","id","renderContainer","wireEvents","ele","items","children","appendChild","setOrientation","headerPlacement","header","querySelector","renderHeader","tbItems","selector","renderContent","scrCnt","bdrLine","scrCntClass","insertBefore","firstChild","setContentHeight","selectedItem","setRTL","enableRtl","serverItemsChanged","enableAnimation","setActive","itemCollection","slice","content_1","item","contains","triggerAnimation","headerReady","hdrEle","getTabHeader","ej2_instances","clicked","clickHandler","on","scrollCnt","touchModule","swipe","swipeHandler","setActiveContent","renderComplete","getTrgContent","extIndex","hdrPlace","tabItems","addVerticalClass","parseObject","setProperties","count","hdrItems","push","tabItems_1","index","attr","txt","outerHTML","cont","wrap","tabIndex","overflowMode","scrollStep","enableHtmlSanitizer","isStringTemplate","appendTo","updateOrientationAttribute","setCloseButton","showCloseButton","hdrItem","contents","reRenderItems","tbCount","tItems","txtWrapEle","spliceArray","pos","iconPosition","iconCss","headerTemplate","text","sanitize","isReplace","disabled","hidden","visible","tHtml","txtEmpty","tagName","headerTextCompile","tEle","icon","tCont","undefined","wrapAttrs","cloneNode","splice","attrObj","tItem","htmlAttributes","template","spliceItemIndex","removeActiveClass","tabHeader","node","checkPopupOverflow","tbPop","popIcon","tbrItems","lastChild","isOverflow","isVertical","offsetLeft","offsetWidth","offsetTop","offsetHeight","popupHandler","ripEle","tbItem","actEleId","prevEle","previousElementSibling","trg","refreshOverflow","prevCtnAnimation","prev","current","animation","checkRTL","previous","timingFunction","next","triggerPrevAnimation","oldCnt","animateObj","begin","style","display","childNodes","animate","value","newCnt","prevActiveEle","idNo","openEff","clsEff","progress","keyPressed","trgParent","trgIndex","getEleIndex","popEle","popObj","click","headers","filter","e","indexOf","replace","eleStr","document","body","templateCompile","tempEle","compileElement","prop","templateFn","trim","templateFUN","el","getContent","callType","querySelectorAll","eleVal","toString","no","findEle","tbPos","changeOrientation","place","changeToolbarOrientation","focusItem","curActItem","focus","serverChangeOrientation","newProp","oldProp","newValue","oldValue","headerPos","contentPos","cls","list","split","heightAdjustMode","setAttribute","Math","max","getHeight","removeProperty","content","removeChild","clearTemplate","cs","window","getComputedStyle","parseFloat","getPropertyValue","bar","trgHdrEle","root","tbHeight","tbWidth","skipDataBind","parseInt","getAttribute","isNaN","allowServerDataBinding","serverDataBind","Number","trg_1","eleTrg","itemIndex","refreshItemVisibility","eventArg","previousItem","prevItem","previousIndex","selectedIndex","selectedContent","selectingID","isSwiped","contentReady","setItems","dataBind","refreshActiveBorder","showPopup","config","tbPopObj","position","X","addEventListener","hoverHandler","spaceKeyDown","keyModule","keyAction","keyHandler","tabKeyModule","openPopup","shiftTab","eventName","removeEventListener","args","originalEvent","removeTab","velocity","changedTouches","stopPropagation","swipeDirection","k","keyCode","which","clstHead","preventDefault","actEle","action","activeElement","nxtSib","nextSibling","activeEle","scrBar","scrStart","scrollLeft","scrEnd","eleStart","eleWidth","eleEnd","eleViewRange","closeButtonTitle","locale","getConstant","evalOnPropertyChangeItems","changedProp","keys","property","oldVal","newVal","cntItem","textVal","arr","isHiddenEle","addTab","hideTab","strVal","enableTab","selectElement","addArgs","addedItems","cancel","tabAddingArgs","addingTabContent","lastEleIndex","itemsCount","i_1","textValue_1","addItems","removeArgs","removedItem","removedIndex","tabRemovingArgs","interopAdaptor","invokeMethodAsync","removeItems","cntTrg","selectedID","selectingItem","selectingIndex","selectingContent","selectArgs","HTMLElement","disable","getPersistData","addOnPersist","getModuleName","onPropertyChanged","_i","_a"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll, addClass, removeClass, remove } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { isBlazor, getRandomId, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_BLA_TEM = 'blazor-template';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_TAB = 'e-icon-tab';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_HOR_NAV = 'e-hor-nav';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar CLS_HSCRCNT = 'e-hscroll-content';\nvar CLS_VSCRCNT = 'e-vscroll-content';\nvar CLS_HORIZONTAL = 'e-horizontal';\nvar CLS_VTAB = 'e-vertical-tab';\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_VLEFT = 'e-vertical-left';\nvar CLS_VRIGHT = 'e-vertical-right';\nvar CLS_HBOTTOM = 'e-horizontal-bottom';\nvar CLS_FILL = 'e-fill-mode';\n/**\n * Objects used for configuring the Tab selecting item action properties.\n */\nvar TabActionSettings = /** @class */ (function (_super) {\n    __extends(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\nexport { TabActionSettings };\n/**\n * Objects used for configuring the Tab animation properties.\n */\nvar TabAnimationSettings = /** @class */ (function (_super) {\n    __extends(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */ (function (_super) {\n    __extends(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(null)\n    ], TabItem.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(true)\n    ], TabItem.prototype, \"visible\", void 0);\n    return TabItem;\n}(ChildProperty));\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     * @param options  - Specifies Tab model properties as options.\n     * @param element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.show = {};\n        _this.hide = {};\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        _this.lastIndex = 0;\n        _this.isAdd = false;\n        _this.isIconAlone = false;\n        _this.resizeContext = _this.refreshActElePosition.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     * @returns void\n     */\n    Tab.prototype.destroy = function () {\n        var _this = this;\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.destroy();\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n            _this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            while (this.element.firstElementChild) {\n                remove(this.element.firstElementChild);\n            }\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            this.element.classList.remove(CLS_TEMPLATE);\n            if (!isNOU(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Refresh the tab component\n     */\n    Tab.prototype.refresh = function () {\n        if (!this.isServerRendered) {\n            _super.prototype.refresh.call(this);\n        }\n        else if (this.isServerRendered && this.loadOn !== 'Dynamic') {\n            this.setActiveBorder();\n        }\n    };\n    /**\n     * Initialize component\n     * @private\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.prevIndex = 0;\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.itemIndexArray = [];\n        this.templateEle = [];\n        if (!isNOU(nested)) {\n            nested.parentElement.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyle(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '' });\n        this.setCssClass(this.element, css, true);\n        this.updatePopAnimationConfig();\n    };\n    /**\n     * Initialize the component rendering\n     * @private\n     */\n    Tab.prototype.render = function () {\n        this.btnCls = this.createElement('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } });\n        this.tabId = this.element.id.length > 0 ? ('-' + this.element.id) : getRandomId();\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        if (this.isServerRendered) {\n            this.isTemplate = false;\n            return;\n        }\n        var ele = this.element;\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(this.createElement('div', { className: CLS_CONTENT }));\n            this.setOrientation(this.headerPlacement, this.createElement('div', { className: CLS_HEADER }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE);\n            var header = ele.querySelector('.' + CLS_HEADER);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNOU(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                var scrCnt = void 0;\n                this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = this.createElement('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE });\n                scrCnt = select('.' + this.scrCntClass, this.tbItems);\n                if (!isNOU(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.serverItemsChanged = function () {\n        this.enableAnimation = false;\n        this.setActive(this.selectedItem, true);\n        if (this.loadOn !== 'Dynamic' && !isNOU(this.cntEle)) {\n            var itemCollection = [].slice.call(this.cntEle.children);\n            var content_1 = CLS_CONTENT + this.tabId + '_' + this.selectedItem;\n            itemCollection.forEach(function (item) {\n                if (item.classList.contains(CLS_ACTIVE) && item.id !== content_1) {\n                    item.classList.remove(CLS_ACTIVE);\n                }\n                if (item.id === content_1) {\n                    item.classList.add(CLS_ACTIVE);\n                }\n            });\n            this.prevIndex = this.selectedItem;\n            this.triggerAnimation(CLS_ITEM + this.tabId + '_' + this.selectedItem, false);\n        }\n        this.enableAnimation = true;\n    };\n    Tab.prototype.headerReady = function () {\n        this.initRender = true;\n        this.hdrEle = this.getTabHeader();\n        this.setOrientation(this.headerPlacement, this.hdrEle);\n        if (!isNOU(this.hdrEle)) {\n            this.tbObj = (this.hdrEle && this.hdrEle.ej2_instances[0]);\n        }\n        this.tbObj.clicked = this.clickHandler.bind(this);\n        this.tbObj.on('onItemsChanged', this.serverItemsChanged.bind(this));\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        if (!isNOU(this.tbItems)) {\n            rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n        }\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n            var scrollCnt = void 0;\n            this.bdrLine = select('.' + CLS_INDICATOR + '.' + CLS_IGNORE, this.element);\n            scrollCnt = select('.' + this.scrCntClass, this.tbItems);\n            if (!isNOU(scrollCnt)) {\n                scrollCnt.insertBefore(this.bdrLine, scrollCnt.firstElementChild);\n            }\n            else {\n                this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstElementChild);\n            }\n            this.select(this.selectedItem);\n        }\n        this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        if (this.loadOn === 'Demand') {\n            var id = this.setActiveContent();\n            this.triggerAnimation(id, false);\n        }\n        this.initRender = false;\n        this.renderComplete();\n    };\n    Tab.prototype.setActiveContent = function () {\n        var id = CLS_ITEM + this.tabId + '_' + this.selectedItem;\n        var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n        if (!isNOU(item)) {\n            item.classList.add(CLS_ACTIVE);\n        }\n        return id;\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var hdrPlace = this.headerPlacement;\n        var tabItems = [];\n        this.hdrEle = this.getTabHeader();\n        this.addVerticalClass();\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            if (this.element.children.length > 1 && this.element.children[1].classList.contains(CLS_HEADER)) {\n                this.setProperties({ headerPlacement: 'Bottom' }, true);\n            }\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                while (this.hdrEle.firstElementChild) {\n                    detach(this.hdrEle.firstElementChild);\n                }\n                var tabItems_1 = this.createElement('div', { className: CLS_ITEMS });\n                this.hdrEle.appendChild(tabItems_1);\n                hdrItems.forEach(function (item, index) {\n                    _this.lastIndex = index;\n                    var attr = {\n                        className: CLS_ITEM, id: CLS_ITEM + _this.tabId + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT + _this.tabId + '_' + index, 'aria-selected': 'false' }\n                    };\n                    var txt = _this.createElement('span', {\n                        className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' }\n                    }).outerHTML;\n                    var cont = _this.createElement('div', {\n                        className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls.outerHTML\n                    }).outerHTML;\n                    var wrap = _this.createElement('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    tabItems_1.appendChild(_this.createElement('div', attr));\n                    selectAll('.' + CLS_ITEM, tabItems_1)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: (hdrPlace === 'Left' || hdrPlace === 'Right') ? 'auto' : '100%',\n            height: (hdrPlace === 'Left' || hdrPlace === 'Right') ? '100%' : 'auto',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this),\n            scrollStep: this.scrollStep,\n            enableHtmlSanitizer: this.enableHtmlSanitizer\n        });\n        this.tbObj.isStringTemplate = true;\n        this.tbObj.createElement = this.createElement;\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.hdrEle, { 'aria-label': 'tab-header' });\n        this.updateOrientationAttribute();\n        this.setCloseButton(this.showCloseButton);\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    contents.item(i).className += CLS_ITEM;\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + this.tabId + '_' + i });\n                    contents.item(i).id = CLS_CONTENT + this.tabId + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.reRenderItems = function () {\n        this.renderContainer();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var tbCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        var tItems = [];\n        var txtWrapEle;\n        var spliceArray = [];\n        var i = 0;\n        items.forEach(function (item, i) {\n            var pos = (isNOU(item.header) || isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNOU(item.header) || isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n            if ((isNOU(item.headerTemplate)) && (isNOU(item.header) || isNOU(item.header.text) ||\n                ((item.header.text.length === 0)) && (css === ''))) {\n                spliceArray.push(i);\n                return;\n            }\n            var txt = item.headerTemplate || item.header.text;\n            if (typeof txt === 'string' && _this.enableHtmlSanitizer) {\n                txt = SanitizeHtmlHelper.sanitize(txt);\n            }\n            _this.lastIndex = ((tbCount === 0) ? i : ((_this.isReplace) ? (index + i) : (_this.lastIndex + 1)));\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n            var hidden = (item.visible === false) ? ' ' + CLS_HIDDEN : '';\n            txtWrapEle = _this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNOU(tHtml) && tHtml !== '');\n            if (!isNOU(txt.tagName)) {\n                txtWrapEle.appendChild(txt);\n            }\n            else {\n                _this.headerTextCompile(txtWrapEle, txt, i);\n            }\n            var tEle;\n            var icon = _this.createElement('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            });\n            var tCont = _this.createElement('div', { className: CLS_TEXT_WRAP });\n            tCont.appendChild(txtWrapEle);\n            if ((txt !== '' && txt !== undefined) && css !== '') {\n                if ((pos === 'left' || pos === 'top')) {\n                    tCont.insertBefore(icon, tCont.firstElementChild);\n                }\n                else {\n                    tCont.appendChild(icon);\n                }\n                tEle = txtWrapEle;\n                _this.isIconAlone = false;\n            }\n            else {\n                tEle = ((css === '') ? txtWrapEle : icon);\n                if (tEle === icon) {\n                    detach(txtWrapEle);\n                    tCont.appendChild(icon);\n                    _this.isIconAlone = true;\n                }\n            }\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            tCont.appendChild(_this.btnCls.cloneNode(true));\n            var wrap = _this.createElement('div', { className: CLS_WRAP, attrs: wrapAttrs });\n            wrap.appendChild(tCont);\n            if (_this.itemIndexArray === []) {\n                _this.itemIndexArray.push(CLS_ITEM + _this.tabId + '_' + _this.lastIndex);\n            }\n            else {\n                _this.itemIndexArray.splice((index + i), 0, CLS_ITEM + _this.tabId + '_' + _this.lastIndex);\n            }\n            var attrObj = {\n                id: CLS_ITEM + _this.tabId + '_' + _this.lastIndex, role: 'tab', 'aria-selected': 'false'\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap };\n            tItem.cssClass = ((item.cssClass !== undefined) ? item.cssClass : ' ') + ' ' + disabled + ' ' + hidden\n                + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n            i++;\n        });\n        if (!this.isAdd) {\n            spliceArray.forEach(function (spliceItemIndex) {\n                _this.items.splice(spliceItemIndex, 1);\n            });\n        }\n        (this.isIconAlone) ? this.element.classList.add(CLS_ICON_TAB) : this.element.classList.remove(CLS_ICON_TAB);\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function () {\n        var tabHeader = this.getTabHeader();\n        if (tabHeader) {\n            var tabItems = selectAll('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, tabHeader);\n            [].slice.call(tabItems).forEach(function (node) { return node.classList.remove(CLS_ACTIVE); });\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        var lastChild = tbrItems.lastChild;\n        var isOverflow = false;\n        if (!this.isVertical() && ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth))) {\n            isOverflow = true;\n        }\n        else if (this.isVertical() && (popIcon.offsetTop < lastChild.offsetTop + lastChild.offsetHeight)) {\n            isOverflow = true;\n        }\n        if (isOverflow) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele, selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNOU(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            target.removeAttribute('style');\n            this.tbItems.appendChild(target);\n            this.actEleId = target.id;\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.updateOrientationAttribute = function () {\n        attributes(this.element, { 'aria-orientation': (this.isVertical() ? 'vertical' : 'horizontal') });\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER, this.element);\n        (val === true) ? trg.classList.add(CLS_CLOSE_SHOW) : trg.classList.remove(CLS_CLOSE_SHOW);\n        this.tbObj.refreshOverflow();\n        this.refreshActElePosition();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = {\n                    name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing\n                };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = {\n                    name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing\n                };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var _this = this;\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNOU(animateObj)) {\n            animateObj.begin = function () {\n                setStyle(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyle(oldCnt, { 'display': '', 'position': '' });\n                if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n                    detach(oldCnt);\n                }\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var oldCnt;\n        var newCnt;\n        if (!this.isServerRendered || (this.isServerRendered && this.loadOn !== 'Dynamic')) {\n            var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n            itemCollection.forEach(function (item) {\n                if (item.id === _this.prevActiveEle) {\n                    oldCnt = item;\n                }\n            });\n            var prevEle = this.tbItem[prevIndex];\n            newCnt = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNOU(oldCnt) && !isNOU(prevEle)) {\n                var idNo = this.extIndex(prevEle.id);\n                oldCnt = this.getTrgContent(this.cntEle, idNo);\n            }\n        }\n        else {\n            newCnt = this.cntEle.firstElementChild;\n        }\n        if (!isNOU(newCnt)) {\n            this.prevActiveEle = newCnt.id;\n        }\n        if (this.initRender || value === false || this.animation === {} || isNOU(this.animation)) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE);\n        };\n        if (!this.initRender && !isNOU(oldCnt)) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n                this.select(trgIndex);\n                if (!isNOU(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getTabHeader = function () {\n        var headers = [].slice.call(this.element.children).filter(function (e) { return e.classList.contains(CLS_HEADER); });\n        if (headers.length > 0) {\n            return headers[0];\n        }\n        else {\n            var wrap = [].slice.call(this.element.children).filter(function (e) { return !e.classList.contains(CLS_BLA_TEM); })[0];\n            if (!wrap) {\n                return undefined;\n            }\n            return [].slice.call(wrap.children).filter(function (e) { return e.classList.contains(CLS_HEADER); })[0];\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_TB_ITEM, this.getTabHeader()), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM + this.tabId + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt, index) {\n        var tempEle = this.createElement('div');\n        this.compileElement(tempEle, cnt, 'content', index);\n        if (tempEle.childNodes.length !== 0) {\n            ele.appendChild(tempEle);\n        }\n    };\n    Tab.prototype.compileElement = function (ele, val, prop, index) {\n        var templateFn;\n        if (typeof val === 'string' && isBlazor() && val.indexOf('<div>Blazor') !== 0) {\n            val = val.trim();\n            ele.innerHTML = SanitizeHtmlHelper.sanitize(val);\n        }\n        else {\n            templateFn = compile(val);\n        }\n        var templateFUN;\n        if (!isNOU(templateFn)) {\n            if (isBlazor() && !this.isStringTemplate && val.indexOf('<div>Blazor') === 0) {\n                templateFUN = templateFn({}, this, prop, this.element.id + index + '_' + prop, this.isStringTemplate);\n            }\n            else {\n                templateFUN = templateFn({}, this, prop);\n            }\n        }\n        if (!isNOU(templateFn) && templateFUN.length > 0) {\n            [].slice.call(templateFUN).forEach(function (el) {\n                ele.appendChild(el);\n            });\n        }\n    };\n    Tab.prototype.headerTextCompile = function (element, text, index) {\n        this.compileElement(element, text, 'headerTemplate', index);\n    };\n    Tab.prototype.getContent = function (ele, cnt, callType, index) {\n        var eleStr;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n            if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n                cnt = SanitizeHtmlHelper.sanitize(cnt);\n            }\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt, index);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt, index);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNOU(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                this.templateEle.push(cnt.toString());\n            }\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST)) {\n            ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + this.tabId + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT + this.tabId + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.isVertical = function () {\n        var isVertical = (this.headerPlacement === 'Left' || this.headerPlacement === 'Right') ? true : false;\n        this.scrCntClass = (isVertical) ? CLS_VSCRCNT : CLS_HSCRCNT;\n        return isVertical;\n    };\n    Tab.prototype.addVerticalClass = function () {\n        if (this.isVertical()) {\n            var tbPos = (this.headerPlacement === 'Left') ? CLS_VLEFT : CLS_VRIGHT;\n            addClass([this.hdrEle], [CLS_VERTICAL, tbPos]);\n            if (!this.element.classList.contains(CLS_NEST)) {\n                addClass([this.element], [CLS_VTAB, tbPos]);\n            }\n            else {\n                addClass([this.hdrEle], [CLS_VTAB, tbPos]);\n            }\n        }\n        if (this.headerPlacement === 'Bottom') {\n            addClass([this.hdrEle], [CLS_HBOTTOM]);\n        }\n    };\n    Tab.prototype.updatePopAnimationConfig = function () {\n        this.show = { name: (this.isVertical() ? 'FadeIn' : 'SlideDown'), duration: 100 };\n        this.hide = { name: (this.isVertical() ? 'FadeOut' : 'SlideUp'), duration: 100 };\n    };\n    Tab.prototype.changeOrientation = function (place) {\n        this.setOrientation(place, this.hdrEle);\n        var isVertical = this.hdrEle.classList.contains(CLS_VERTICAL) ? true : false;\n        removeClass([this.element], [CLS_VTAB]);\n        removeClass([this.hdrEle], [CLS_VERTICAL, CLS_VLEFT, CLS_VRIGHT]);\n        if (isVertical !== this.isVertical()) {\n            this.changeToolbarOrientation();\n        }\n        this.addVerticalClass();\n        this.updateOrientationAttribute();\n        this.setActiveBorder();\n        this.focusItem();\n    };\n    Tab.prototype.focusItem = function () {\n        var curActItem = select(' #' + CLS_ITEM + this.tabId + '_' + this.selectedItem, this.hdrEle);\n        if (!isNOU(curActItem)) {\n            curActItem.firstElementChild.focus();\n        }\n    };\n    Tab.prototype.serverChangeOrientation = function (newProp, oldProp) {\n        this.setOrientation(newProp, this.hdrEle);\n        removeClass([this.element], [CLS_VTAB]);\n        var newValue = newProp === 'Left' || newProp === 'Right';\n        var oldValue = oldProp === 'Left' || oldProp === 'Right';\n        if (newValue !== oldValue) {\n            this.changeToolbarOrientation();\n        }\n        if (this.isVertical()) {\n            addClass([this.element], [CLS_VTAB]);\n        }\n        this.updateOrientationAttribute();\n        this.setActiveBorder();\n        this.focusItem();\n    };\n    Tab.prototype.changeToolbarOrientation = function () {\n        this.tbObj.setProperties({ height: (this.isVertical() ? '100%' : 'auto'), width: (this.isVertical() ? 'auto' : '100%') }, true);\n        this.tbObj.changeOrientation();\n        this.updatePopAnimationConfig();\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        var headerPos = Array.prototype.indexOf.call(this.element.children, ele);\n        var contentPos = Array.prototype.indexOf.call(this.element.children, this.element.querySelector('.' + CLS_CONTENT));\n        if (place === 'Bottom' && (contentPos > headerPos)) {\n            this.element.appendChild(ele);\n        }\n        else {\n            removeClass([ele], [CLS_HBOTTOM]);\n            this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n        }\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (this.element.classList.contains(CLS_FILL)) {\n            removeClass([this.element], [CLS_FILL]);\n        }\n        if (isNOU(this.cntEle)) {\n            return;\n        }\n        var hdrEle = this.getTabHeader();\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                if (!this.isVertical()) {\n                    setStyle(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n                }\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            addClass([this.element], [CLS_FILL]);\n            setStyle(this.element, { 'height': '100%' });\n            setStyle(this.cntEle, { 'height': '100%' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            if (this.isTemplate === true) {\n                var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(this.createElement('div', {\n                        id: (CLS_CONTENT + this.tabId + '_' + 0), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + this.tabId + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, this.items[i].content, 'clone', i);\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    while (ele.firstChild) {\n                        ele.removeChild(ele.firstChild);\n                    }\n                }\n                this.clearTemplate(['content']);\n                this.templateEle = [];\n                this.getContent(ele, this.items[0].content, 'render', 0);\n                ele.classList.remove(CLS_ACTIVE);\n            }\n            setStyle(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var bar;\n        var scrollCnt;\n        var trgHdrEle = this.getTabHeader();\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, trgHdrEle);\n        if (trg === null) {\n            return;\n        }\n        if (this.isServerRendered && trg.classList.contains(CLS_TB_POPUP)) {\n            this.popupHandler(trg);\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        this.tbItems = select('.' + CLS_TB_ITEMS, trgHdrEle);\n        bar = select('.' + CLS_INDICATOR, trgHdrEle);\n        scrollCnt = select('.' + CLS_TB_ITEMS + ' .' + this.scrCntClass, trgHdrEle);\n        if (this.isVertical()) {\n            setStyle(bar, { 'left': '', 'right': '' });\n            var tbHeight = (isNOU(scrollCnt)) ? this.tbItems.offsetHeight : scrollCnt.offsetHeight;\n            if (tbHeight !== 0) {\n                setStyle(bar, { 'top': trg.offsetTop + 'px', 'height': trg.offsetHeight + 'px' });\n            }\n            else {\n                setStyle(bar, { 'top': 0, 'height': 0 });\n            }\n        }\n        else {\n            setStyle(bar, { 'top': '', 'height': '' });\n            var tbWidth = (isNOU(scrollCnt)) ? this.tbItems.offsetWidth : scrollCnt.offsetWidth;\n            if (tbWidth !== 0) {\n                setStyle(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n            }\n            else {\n                setStyle(bar, { 'left': 'auto', 'right': 'auto' });\n            }\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN);\n        }\n    };\n    Tab.prototype.setActive = function (value, skipDataBind) {\n        if (skipDataBind === void 0) { skipDataBind = false; }\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n        var trg = this.tbItem[value];\n        if (this.isServerRendered && trg) {\n            value = parseInt(trg.getAttribute('data-index'), 10);\n        }\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (value >= 0 && !skipDataBind) {\n            this.allowServerDataBinding = false;\n            this.setProperties({ selectedItem: value }, true);\n            this.allowServerDataBinding = true;\n            if (!this.initRender) {\n                this.serverDataBind();\n            }\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            var prev = this.tbItem[this.prevIndex];\n            if (!isNOU(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT + this.tabId + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass();\n        trg.classList.add(CLS_ACTIVE);\n        trg.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        if (isNOU(this.prevActiveEle)) {\n            this.prevActiveEle = CLS_CONTENT + this.tabId + '_' + no;\n        }\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + this.tabId + '_' + no);\n                if (!isNOU(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else if (!this.isServerRendered || (this.isServerRendered && this.loadOn === 'Init')) {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNOU(item)) {\n                this.cntEle.appendChild(this.createElement('div', {\n                    id: CLS_CONTENT + this.tabId + '_' + this.extIndex(id), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + this.tabId + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, id);\n                this.getContent(eleTrg, this.items[itemIndex].content, 'render', itemIndex);\n            }\n            else {\n                item.classList.add(CLS_ACTIVE);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        this.refreshItemVisibility(trg);\n        if (!this.initRender && !skipDataBind) {\n            trg.firstElementChild.focus();\n            var eventArg = {\n                previousItem: this.prevItem,\n                previousIndex: this.prevIndex,\n                selectedItem: trg,\n                selectedIndex: value,\n                selectedContent: select('#' + CLS_CONTENT + this.tabId + '_' + this.selectingID, this.content),\n                isSwiped: this.isSwipeed\n            };\n            this.trigger('selected', eventArg);\n        }\n    };\n    Tab.prototype.contentReady = function () {\n        var id = this.setActiveContent();\n        this.triggerAnimation(id, this.enableAnimation);\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.showPopup = function (config) {\n        var tbPop = select('.e-popup.e-toolbar-pop', this.hdrEle);\n        if (tbPop.classList.contains('e-popup-close')) {\n            var tbPopObj = (tbPop && tbPop.ej2_instances[0]);\n            tbPopObj.position.X = (this.headerPlacement === 'Left') ? 'left' : 'right';\n            tbPopObj.dataBind();\n            tbPopObj.show(config);\n        }\n    };\n    Tab.prototype.wireEvents = function () {\n        window.addEventListener('resize', this.resizeContext);\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        this.keyModule.destroy();\n        this.tabKeyModule.destroy();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule.destroy();\n        }\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.element, 'keydown', this.spaceKeyDown);\n        this.element.classList.remove(CLS_RTL);\n        this.element.classList.remove(CLS_FOCUS);\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else if (this.isVertical() && closest(trg, '.' + CLS_HOR_NAV)) {\n            this.showPopup(this.show);\n        }\n        else {\n            this.isPopup = false;\n            if (this.isServerRendered && !isNOU(trgParent)) {\n                if (parseInt(trgParent.getAttribute('data-index'), 10) !== this.selectedItem) {\n                    this.select(trgIndex);\n                }\n            }\n            else if (!isNOU(trgParent) && (trgIndex !== this.selectedItem || trgIndex !== this.prevIndex)) {\n                this.select(trgIndex);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNOU(e.originalEvent.changedTouches)) {\n            return;\n        }\n        if (e.originalEvent) {\n            e.originalEvent.stopPropagation();\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n            for (var k = this.selectedItem - 1; k >= 0; k--) {\n                if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n                    this.select(k);\n                    break;\n                }\n            }\n        }\n        else if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n            for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n                if (!this.tbItem[i].classList.contains(CLS_HIDDEN)) {\n                    this.select(i);\n                    break;\n                }\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER);\n            if (!isNOU(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var tabHeader = this.getTabHeader();\n        var actEle = select('.' + CLS_ACTIVE, tabHeader);\n        this.popEle = select('.' + CLS_TB_POP, tabHeader);\n        if (!isNOU(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    this.showPopup(this.show);\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n                if (!isNOU(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n                if (this.showCloseButton === true && !isNOU(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstElementChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshActElePosition = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n        if (!isNOU(activeEle)) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n        if (!this.isVertical() && !isNOU(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    Tab.prototype.evalOnPropertyChangeItems = function (newProp, oldProp) {\n        if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProp = Object.keys(newProp.items);\n            for (var i = 0; i < changedProp.length; i++) {\n                var index = parseInt(Object.keys(newProp.items)[i], 10);\n                var property = Object.keys(newProp.items[index])[0];\n                var oldVal = Object(oldProp.items[index])[property];\n                var newVal = Object(newProp.items[index])[property];\n                var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + this.tabId + '_' + index, this.element);\n                var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + this.tabId + '_' + index, this.element);\n                if (property === 'header' || property === 'headerTemplate') {\n                    var icon = (isNOU(this.items[index].header) ||\n                        isNOU(this.items[index].header.iconCss)) ? '' : this.items[index].header.iconCss;\n                    var textVal = this.items[index].headerTemplate || this.items[index].header.text;\n                    if ((textVal === '') && (icon === '')) {\n                        this.removeTab(index);\n                    }\n                    else {\n                        var arr = [];\n                        arr.push(this.items[index]);\n                        this.items.splice(index, 1);\n                        this.itemIndexArray.splice(index, 1);\n                        this.tbObj.items.splice(index, 1);\n                        var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN);\n                        detach(hdrItem);\n                        this.isReplace = true;\n                        this.addTab(arr, index);\n                        if (isHiddenEle) {\n                            this.hideTab(index);\n                        }\n                        this.isReplace = false;\n                    }\n                }\n                if (property === 'content' && !isNOU(cntItem)) {\n                    var strVal = typeof newVal === 'string' || isNOU(newVal.innerHTML);\n                    if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                        var eleVal = document.querySelector(newVal);\n                        cntItem.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                    else if (newVal === '' && oldVal[0] === '#') {\n                        document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                        cntItem.innerHTML = newVal;\n                    }\n                    else {\n                        cntItem.innerHTML = newVal;\n                    }\n                }\n                if (property === 'cssClass') {\n                    if (!isNOU(hdrItem)) {\n                        hdrItem.classList.remove(oldVal);\n                        hdrItem.classList.add(newVal);\n                    }\n                    if (!isNOU(cntItem)) {\n                        cntItem.classList.remove(oldVal);\n                        cntItem.classList.add(newVal);\n                    }\n                }\n                if (property === 'disabled') {\n                    this.enableTab(index, ((newVal === true) ? false : true));\n                }\n                if (property === 'visible') {\n                    this.hideTab(index, ((newVal === true) ? false : true));\n                }\n            }\n        }\n        else {\n            this.lastIndex = 0;\n            if (isNOU(this.tbObj)) {\n                this.reRenderItems();\n            }\n            else {\n                this.setItems(newProp.items);\n                if (this.templateEle.length > 0) {\n                    this.expTemplateContent();\n                }\n                this.templateEle = [];\n                var selectElement = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n                while (selectElement.firstElementChild && !isBlazor()) {\n                    detach(selectElement.firstElementChild);\n                }\n                this.select(this.selectedItem);\n            }\n        }\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns void.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstElementChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstElementChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE)) {\n                this.select(index + 1);\n            }\n        }\n        if (!isNOU(this.items[index])) {\n            this.items[index].disabled = !value;\n            this.dataBind();\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     * @param  {TabItemsModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns void.\n\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        var addArgs = { addedItems: items, cancel: false };\n        if (!this.isReplace) {\n            this.trigger('adding', addArgs, function (tabAddingArgs) {\n                if (!tabAddingArgs.cancel) {\n                    _this.addingTabContent(items, index);\n                }\n            });\n        }\n        else {\n            this.addingTabContent(items, index);\n        }\n    };\n    Tab.prototype.addingTabContent = function (items, index) {\n        var _this = this;\n        var lastEleIndex = 0;\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (isNOU(this.hdrEle)) {\n            this.items = items;\n            this.reRenderItems();\n        }\n        else {\n            var itemsCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n            if (itemsCount !== 0) {\n                lastEleIndex = this.lastIndex + 1;\n            }\n            if (isNOU(index)) {\n                index = itemsCount - 1;\n            }\n            if (itemsCount < index || index < 0 || isNaN(index)) {\n                return;\n            }\n            if (itemsCount === 0 && !isNOU(this.hdrEle)) {\n                this.hdrEle.style.display = '';\n            }\n            if (!isNOU(this.bdrLine)) {\n                this.bdrLine.classList.add(CLS_HIDDEN);\n            }\n            this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n            this.isAdd = true;\n            var tabItems = this.parseObject(items, index);\n            this.isAdd = false;\n            var i_1 = 0;\n            var textValue_1;\n            items.forEach(function (item, place) {\n                textValue_1 = item.headerTemplate || item.header.text;\n                if (!(isNOU(item.headerTemplate || item.header) ||\n                    isNOU(textValue_1) || (textValue_1.length === 0) && isNOU(item.header.iconCss))) {\n                    _this.items.splice((index + i_1), 0, item);\n                    i_1++;\n                }\n                if (_this.isTemplate && !isNOU(item.header) && !isNOU(item.header.text)) {\n                    var no = lastEleIndex + place;\n                    var ele = _this.createElement('div', {\n                        id: CLS_CONTENT + _this.tabId + '_' + no, className: CLS_ITEM,\n                        attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + no }\n                    });\n                    _this.cntEle.insertBefore(ele, _this.cntEle.children[(index + place)]);\n                    var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n                    _this.getContent(eleTrg, item.content, 'render', index);\n                }\n            });\n            this.tbObj.addItems(tabItems, index);\n            if (!this.isReplace) {\n                this.trigger('added', { addedItems: items });\n            }\n            if (this.selectedItem === index) {\n                this.select(index);\n            }\n            else {\n                this.setActiveBorder();\n            }\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns void.\n\n     */\n    Tab.prototype.removeTab = function (index) {\n        var _this = this;\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(trg)) {\n            return;\n        }\n        var removeArgs = { removedItem: trg, removedIndex: index, cancel: false };\n        this.trigger('removing', removeArgs, function (tabRemovingArgs) {\n            if (!tabRemovingArgs.cancel) {\n                if (isBlazor() && _this.isServerRendered) {\n                    // tslint:disable-next-line:no-any\n                    _this.interopAdaptor.invokeMethodAsync('OnRemoveItem', index);\n                    return;\n                }\n                _this.tbObj.removeItems(index);\n                _this.items.splice(index, 1);\n                _this.itemIndexArray.splice(index, 1);\n                _this.refreshActiveBorder();\n                var cntTrg = select('#' + CLS_CONTENT + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_CONTENT, _this.element));\n                if (!isNOU(cntTrg)) {\n                    detach(cntTrg);\n                }\n                _this.trigger('removed', tabRemovingArgs);\n                if (trg.classList.contains(CLS_ACTIVE)) {\n                    // tslint:disable-next-line:max-line-length\n                    index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', _this.element).length - 1) ? index - 1 : index;\n                    _this.enableAnimation = false;\n                    _this.selectedItem = index;\n                    _this.select(index);\n                }\n                if (selectAll('.' + CLS_TB_ITEM, _this.element).length === 0) {\n                    _this.hdrEle.style.display = 'none';\n                }\n                _this.enableAnimation = true;\n            }\n        });\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns void.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var items;\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(item)) {\n            return;\n        }\n        if (isNOU(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n            if (items.length !== 0 && item.classList.contains(CLS_ACTIVE)) {\n                if (index !== 0) {\n                    for (var i = index - 1; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains(CLS_HIDDEN)) {\n                            this.select(i);\n                            break;\n                        }\n                        else if (i === 0) {\n                            for (var k = index + 1; k < this.tbItem.length; k++) {\n                                if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n                                    this.select(k);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var k = index + 1; k < this.tbItem.length; k++) {\n                        if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n                            this.select(k);\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (items.length === 0) {\n                this.element.classList.add(CLS_HIDDEN);\n            }\n        }\n        else {\n            this.element.classList.remove(CLS_HIDDEN);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n            item.classList.remove(CLS_HIDDEN);\n            if (items.length === 0) {\n                this.select(index);\n            }\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n        if (!this.isServerRendered && this.overflowMode === 'Popup' && this.tbObj) {\n            this.tbObj.refreshOverflow();\n        }\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @returns void.\n     */\n    Tab.prototype.select = function (args) {\n        var _this = this;\n        var tabHeader = this.getTabHeader();\n        this.tbItems = select('.' + CLS_TB_ITEMS, tabHeader);\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, tabHeader);\n        this.content = select('.' + CLS_CONTENT, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        if (isNOU(this.selectedItem) || (this.selectedItem < 0) || (this.tbItem.length <= this.selectedItem) || isNaN(this.selectedItem)) {\n            this.selectedItem = 0;\n        }\n        else {\n            this.selectedID = this.extIndex(this.tbItem[this.selectedItem].id);\n        }\n        var trg = this.tbItem[args];\n        if (isNOU(trg)) {\n            this.selectedID = '0';\n        }\n        else {\n            this.selectingID = this.extIndex(trg.id);\n        }\n        if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            selectedContent: !isNOU(this.content) ?\n                select('#' + CLS_CONTENT + this.tabId + '_' + this.selectedID, this.content) : null,\n            selectingItem: trg,\n            selectingIndex: args,\n            selectingContent: !isNOU(this.content) ?\n                select('#' + CLS_CONTENT + this.tabId + '_' + this.selectingID, this.content) : null,\n            isSwiped: this.isSwipeed,\n            cancel: false\n        };\n        if (!this.initRender) {\n            this.trigger('selecting', eventArg, function (selectArgs) {\n                if (!selectArgs.cancel) {\n                    _this.selectingContent(args);\n                }\n            });\n        }\n        else {\n            this.selectingContent(args);\n        }\n    };\n    Tab.prototype.selectingContent = function (args) {\n        if (typeof args === 'number') {\n            if (!isNOU(this.tbItem[args]) && (this.tbItem[args].classList.contains(CLS_DISABLE) ||\n                this.tbItem[args].classList.contains(CLS_HIDDEN))) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false && this.items[i].visible === true) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n                    this.setActive(this.popupHandler(this.tbItem[args]));\n                }\n                else {\n                    this.setActive(args);\n                }\n            }\n            else {\n                this.setActive(0);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args));\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {TabModel} newProp\n     * @param  {TabModel} oldProp\n     * @returns void\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyle(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyle(this.element, { height: formatUnit(newProp.height) });\n                    if (!this.isServerRendered) {\n                        this.setContentHeight(false);\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass !== '') {\n                        this.setCssClass(this.element, oldProp.cssClass, false);\n                        this.setCssClass(this.element, newProp.cssClass, true);\n                    }\n                    else {\n                        this.setCssClass(this.element, newProp.cssClass, true);\n                    }\n                    break;\n                case 'items':\n                    if (!this.isServerRendered) {\n                        this.evalOnPropertyChangeItems(newProp, oldProp);\n                    }\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'selectedItem':\n                    if (!this.isServerRendered) {\n                        this.selectedItem = oldProp.selectedItem;\n                        this.select(newProp.selectedItem);\n                    }\n                    break;\n                case 'headerPlacement':\n                    if (this.isServerRendered) {\n                        this.serverChangeOrientation(newProp.headerPlacement, oldProp.headerPlacement);\n                    }\n                    else {\n                        this.changeOrientation(newProp.headerPlacement);\n                    }\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActElePosition();\n                    break;\n                case 'heightAdjustMode':\n                    if (!this.isServerRendered) {\n                        this.setContentHeight(false);\n                        this.select(this.selectedItem);\n                    }\n                    break;\n                case 'scrollStep':\n                    if (this.tbObj) {\n                        this.tbObj.scrollStep = this.scrollStep;\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property('Dynamic')\n    ], Tab.prototype, \"loadOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate([\n        Property()\n    ], Tab.prototype, \"scrollStep\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\nexport { Tab };\n"]},"metadata":{},"sourceType":"module"}